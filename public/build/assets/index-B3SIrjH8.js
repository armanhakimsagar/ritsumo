import{r as v,j as e}from"./ui-Ps9nvBG1.js";import{P as ps,S as is}from"./page-template-BeQadk1c.js";import{u as z,t as C,f as J,e as K,I as S,B as _,C as R,d as I,E as re,a as L,b as q,g as hs,D as fs,l as js,n as ys,o as bs,K as Ns,m as vs,P as ws,X as os,G as gs}from"./app-BTt_gkO3.js";import{S as _s}from"./switch-DG4amuEJ.js";import{T as Ps,a as Cs,b as ds}from"./tabs-D83PhGuv.js";import{C as ks}from"./CrudDeleteModal-CAwcbZOF.js";import{l as Fs,E as Es,u as Ms,a as Ts,C as ms}from"./react-stripe.esm-BlLEi23z.js";import{L as D}from"./loader-circle-LF6za7Wc.js";import{C as zs}from"./trending-up-BkxnV74k.js";import{C as xs}from"./circle-check-big-BMYVPbRH.js";import{C as F}from"./credit-card-BwPrmecT.js";import{E as H}from"./external-link-DZ7-d7Y_.js";import{W as me}from"./wallet-CH1oYh2R.js";import{A,a as O}from"./alert-CnBrcYs9.js";import{C as ue}from"./coins-QSIO91L8.js";import{I as he}from"./info-CWa1AAnn.js";import{C as B}from"./circle-alert-DCoDy4PA.js";import{T as As,P as Os,S as Rs}from"./tag-OznyPslI.js";import{C as ie}from"./crown-h0ONqO0b.js";import{C as us}from"./circle-check-B5E119oN.js";import{T as Is}from"./trash-2-WsAE_ige.js";import{B as Ds,I as oe}from"./indian-rupee-CXBAgLWO.js";import{Z as Bs}from"./zap-D5bA-otg.js";import{C as Ls}from"./clock-NAV_RQL_.js";import{H as qs}from"./hard-drive-DkZiK8kb.js";import{U as de}from"./users-ClK0ij4u.js";import"./vendor-B1hewrmX.js";import"./textarea-DPiv_-Qc.js";import"./select-z0EzYxFC.js";import"./index-C9qibMqK.js";import"./chevron-up-CaRG6751.js";import"./react-country-flag.esm-2v5ikZ5v.js";import"./language-BbwPiY59.js";import"./language-switcher-AzCP_3T2.js";import"./dropdown-menu-CvJwe1WI.js";import"./globe-BYIVGjA8.js";import"./building-2-CVOsE0mA.js";import"./square-check-big-B29hCoNu.js";import"./bug-DP5pb0Nw.js";import"./dollar-sign-CY6xo33T.js";import"./mail-CZ8KgBhk.js";import"./message-square-DGoN5Yg5.js";import"./settings-CG31wyPI.js";import"./user-DZ3jVi18.js";import"./triangle-alert-BuDHDWvi.js";import"./use-favicon-vjALIuby.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";function ce(a={}){const{t:w}=z(),[m,h]=v.useState(!1),b=async(x,s)=>{h(!0);const o={stripe:"stripe.payment",paypal:"paypal.payment",bank:"bank.payment",razorpay:"razorpay.payment",mercadopago:"mercadopago.payment",paystack:"paystack.payment",flutterwave:"flutterwave.payment"}[x];if(!o){C.error(w("Invalid payment method")),h(!1);return}const t=k(x,s);J.post(route(o),t,{onSuccess:n=>{var j,N,u;(N=(j=n.props)==null?void 0:j.flash)!=null&&N.success?C.success(n.props.flash.success):C.success(w("Payment successful")),(u=a.onSuccess)==null||u.call(a)},onError:n=>{var N;const j=(n==null?void 0:n.message)||(n==null?void 0:n.error)||w("Payment failed");C.error(j),(N=a.onError)==null||N.call(a,j)},onFinish:()=>{h(!1)}})},p=(x,s)=>{const o={stripe:["payment_method_id","cardholder_name"],paypal:["order_id","payment_id"],bank:["amount"],razorpay:["payment_id","order_id","signature"],mercadopago:["payment_id","status"],paystack:["payment_id"],flutterwave:["payment_id"]}[x]||[];for(const t of o)if(!s[t])return C.error(w(`${t} is required`)),!1;return!0},k=(x,s)=>({plan_id:s.planId,billing_cycle:s.billingCycle,coupon_code:s.couponCode||"",...s});return{processing:m,processPayment:b,validatePaymentData:p,formatPaymentData:k}}const Ks=({planId:a,couponCode:w,billingCycle:m,onSuccess:h,onCancel:b})=>{const{t:p}=z(),k=Ms(),x=Ts(),[s,i]=v.useState(""),{processing:o,processPayment:t}=ce({onSuccess:h,onError:N=>C.error(N)}),n=async N=>{if(N.preventDefault(),!k||!x||!s.trim()){C.error(p("Please fill in all required fields"));return}const u=x.getElement(ms);if(!u)return;const{error:l,paymentMethod:f}=await k.createPaymentMethod({type:"card",card:u,billing_details:{name:s}});if(l){C.error(l.message||p("Payment failed"));return}t("stripe",{planId:a,billingCycle:m,couponCode:w,payment_method_id:f.id,cardholder_name:s})},j={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"cardholder-name",children:p("Name on card")}),e.jsx(S,{id:"cardholder-name",type:"text",value:s,onChange:N=>i(N.target.value),placeholder:p("Enter cardholder name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:p("Card details")}),e.jsx("div",{className:"p-3 border rounded-md",children:e.jsx(ms,{options:j})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:b,disabled:o,className:"flex-1",children:p("Cancel")}),e.jsx(_,{type:"submit",disabled:!k||o,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-4 w-4 mr-2 animate-spin"}),p("Processing...")]}):p("Pay Now")})]})]})};function Ys({planId:a,couponCode:w,billingCycle:m,stripeKey:h,onSuccess:b,onCancel:p}){const{t:k}=z(),[x,s]=v.useState(null);return v.useEffect(()=>{h&&h.startsWith("pk_")&&s(Fs(h))},[h]),x?e.jsx(Es,{stripe:x,children:e.jsx(Ks,{planId:a,couponCode:w,billingCycle:m,onSuccess:b,onCancel:p})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:k("Stripe not configured properly")})}function $s({planId:a,planPrice:w,couponCode:m,billingCycle:h,paypalClientId:b,currency:p,onSuccess:k,onCancel:x}){const{t:s}=z(),i=v.useRef(null),{processPayment:o}=ce({onSuccess:k,onError:t=>C.error(t)});return v.useEffect(()=>{if(!b||!i.current)return;const t=document.createElement("script");return t.src=`https://www.paypal.com/sdk/js?client-id=${b}&currency=${p.toUpperCase()}&disable-funding=credit,card`,t.async=!0,t.onload=()=>{window.paypal&&i.current&&window.paypal.Buttons({createOrder:(n,j)=>{const N=w.toString().replace(/,/g,""),u=parseFloat(N).toFixed(2);return j.order.create({purchase_units:[{amount:{value:u,currency_code:p.toUpperCase()}}]})},onApprove:(n,j)=>j.order.capture().then(N=>{o("paypal",{planId:a,billingCycle:h,couponCode:m,order_id:n.orderID,payment_id:N.id})}),onError:n=>{console.error("PayPal error:",n),n.message&&n.message.includes("declined")?C.error(s("Card was declined. Please try a different payment method.")):C.error(s("Payment failed. Please try again."))},onCancel:()=>{x()}}).render(i.current)},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[b,a,h,m,p]),b?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{ref:i})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("PayPal not configured")})}function Ss({planId:a,planPrice:w,couponCode:m,billingCycle:h,bankDetails:b,onSuccess:p,onCancel:k}){const{t:x}=z(),[s,i]=v.useState(!1),o=n=>{navigator.clipboard.writeText(n),C.success(x("Copied to clipboard"))},t=()=>{i(!0),J.post(route("bank.payment"),{plan_id:a,billing_cycle:h,coupon_code:m,amount:w},{onSuccess:()=>{C.success(x("Payment request submitted successfully")),p()},onError:()=>{C.error(x("Failed to submit payment request"))},onFinish:()=>{i(!1)}})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(R,{children:e.jsxs(I,{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:x("Bank Transfer Details")}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"whitespace-pre-line",children:b}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("span",{className:"font-medium",children:[x("Amount"),": $",w]}),e.jsxs(_,{variant:"outline",size:"sm",onClick:()=>o(w.toString()),children:[e.jsx(zs,{className:"h-3 w-3 mr-1"}),x("Copy")]})]})]})]})}),e.jsx(R,{className:"border-orange-200 bg-orange-50",children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(xs,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:x("Important Instructions")}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsxs("li",{children:["• ",x("Transfer the exact amount shown above")]}),e.jsxs("li",{children:["• ",x("Include your order reference in the transfer description")]}),e.jsxs("li",{children:["• ",x("Your plan will be activated after payment verification")]}),e.jsxs("li",{children:["• ",x("Verification may take 1-3 business days")]})]})]})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:k,className:"flex-1",children:x("Cancel")}),e.jsx(_,{onClick:t,disabled:s,className:"flex-1",children:x(s?"Processing...":"I have made the payment")})]})]})}function Xs({planId:a,planPrice:w,couponCode:m,billingCycle:h,razorpayKey:b,currency:p="INR",onSuccess:k,onCancel:x}){const{t:s}=z();v.useEffect(()=>{if(window&&window.Razorpay)return;const o=document.createElement("script");return o.src="https://checkout.razorpay.com/v1/checkout.js",o.async=!0,o.onerror=()=>{C.error(s("Failed to load Razorpay checkout. Please try again."))},document.body.appendChild(o),()=>{document.body.contains(o)&&document.body.removeChild(o)}},[]);const i=async()=>{var o,t;try{const n=await re.post(route("razorpay.create-order"),{plan_id:a,billing_cycle:h,coupon_code:m});if(n.data.error){C.error(n.data.error);return}const{order_id:j,amount:N}=n.data;if(!j||!N){C.error(s("Invalid response from server"));return}const u={key:b,amount:N,currency:p,name:"Taskly",description:"Plan Subscription",order_id:j,handler:function(f){re.post(route("razorpay.verify-payment"),{razorpay_payment_id:f.razorpay_payment_id,razorpay_order_id:f.razorpay_order_id,razorpay_signature:f.razorpay_signature,plan_id:a,billing_cycle:h,coupon_code:m}).then(()=>{k()}).catch(c=>{var y,T;const d=((T=(y=c.response)==null?void 0:y.data)==null?void 0:T.error)||s("Payment verification failed");C.error(d)})},prefill:{name:"",email:"",contact:""},theme:{color:"#3B82F6"},modal:{ondismiss:x}};if(!window.Razorpay){C.error(s("Razorpay SDK not loaded"));return}new window.Razorpay(u).open()}catch(n){const j=((t=(o=n.response)==null?void 0:o.data)==null?void 0:t.error)||s("Failed to initialize payment");C.error(j),console.error("Razorpay error:",n)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to Razorpay to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:i,className:"flex-1",children:s("Pay with Razorpay")})]})]})}function Us({planId:a,planPrice:w,couponCode:m,billingCycle:h,accessToken:b,currency:p="BRL",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),t=async()=>{var n,j;try{o(!0);const N=await re.post(route("mercadopago.create-preference"),{plan_id:a,billing_cycle:h,coupon_code:m||void 0},{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});N.data.redirect_url?window.location.href=N.data.redirect_url:(C.error(s("Failed to create payment preference")),o(!1))}catch(N){const u=((j=(n=N.response)==null?void 0:n.data)==null?void 0:j.error)||N.message||s("Failed to create payment preference");C.error(u),o(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to MercadoPago to complete your payment.")}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(_,{variant:"outline",onClick:x,className:"flex-1",disabled:i,children:s("Cancel")}),e.jsx(_,{onClick:t,className:"flex-1",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-4 w-4 mr-2 animate-spin"}),s("Processing...")]}):s("Pay with MercadoPago")})]})]})}function Ws({planId:a,planPrice:w,couponCode:m,billingCycle:h,paystackKey:b,currency:p,onSuccess:k,onCancel:x}){const{t:s}=z(),i=v.useRef(!1),{processPayment:o}=ce({onSuccess:k,onError:t=>C.error(t)});return v.useEffect(()=>{if(!b||i.current)return;const t=document.createElement("script");return t.src="https://js.paystack.co/v1/inline.js",t.async=!0,t.onload=()=>{i.current=!0;const n=document.querySelector("[data-radix-dialog-overlay]");n&&(n.style.display="none"),window.PaystackPop.setup({key:b,email:"user@example.com",amount:Math.round(Number(w)*100),currency:p.toUpperCase(),callback:function(N){n&&(n.style.display=""),o("paystack",{planId:a,billingCycle:h,couponCode:m,payment_id:N.reference})},onClose:function(){n&&(n.style.display=""),x()}}).openIframe()},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[b,a,h,m,p]),b?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Paystack...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Paystack not configured")})}function Hs({planId:a,planPrice:w,couponCode:m,billingCycle:h,flutterwaveKey:b,currency:p,onSuccess:k,onCancel:x}){const{t:s}=z(),i=v.useRef(!1),{processPayment:o}=ce({onSuccess:k,onError:t=>C.error(t)});return v.useEffect(()=>{if(!b||i.current)return;const t=document.createElement("script");return t.src="https://checkout.flutterwave.com/v3.js",t.async=!0,t.onload=()=>{i.current=!0,window.FlutterwaveCheckout({public_key:b,tx_ref:`plan_${a}_${Date.now()}`,amount:w,currency:p.toUpperCase(),payment_options:"card,mobilemoney,ussd",customer:{email:"user@example.com",phone_number:"",name:"Customer"},customizations:{title:"Plan Subscription",description:"Payment for subscription plan",logo:""},callback:function(n){n.status==="successful"?o("flutterwave",{planId:a,billingCycle:h,couponCode:m,payment_id:n.transaction_id,tx_ref:n.tx_ref}):(C.error(s("Payment was not completed")),x())},onclose:function(){x()}})},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[b,a,h,m,p]),b?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Flutterwave...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Flutterwave not configured")})}function Js({planId:a,couponCode:w,billingCycle:m,planPrice:h,paytabsClientKey:b,currency:p,onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),t=async()=>{var n,j,N,u,l,f;o(!0);try{const c={plan_id:a,billing_cycle:m,coupon_code:w||null,payment_id:`pt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,transaction_id:`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,_token:(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content")},d=await re.post(route("paytabs.payment"),c,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4});if(d.data.success&&d.data.redirect_url)C.success(s("Redirecting to PayTabs payment page...")),setTimeout(()=>{window.location.href=d.data.redirect_url},1e3);else throw new Error(d.data.message||"Payment initialization failed")}catch(c){console.error("PayTabs payment error:",c);let d=s("Payment failed. Please try again.");((j=c.response)==null?void 0:j.status)===400?d=((N=c.response.data)==null?void 0:N.message)||s("Invalid payment request. Please check your details."):((u=c.response)==null?void 0:u.status)===500?d=s("Server error. Please try again later."):(f=(l=c.response)==null?void 0:l.data)!=null&&f.message?d=c.response.data.message:c.message?d=c.message:c.code==="ECONNABORTED"&&(d=s("Request timeout. Please try again.")),C.error(d),o(!1)}};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTabs Payment")]})}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with PayTabs")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to PayTabs secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Plan"),":"]}),e.jsx("span",{className:"text-sm text-gray-900",children:s("Subscription Plan")})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Billing Cycle"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:m})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[p," ",h]})]}),w&&e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t",children:[e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[s("Coupon Applied"),":"]}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:w})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:x,className:"flex-1",disabled:i,children:s("Cancel")}),e.jsx(_,{type:"button",onClick:t,disabled:i,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay {{amount}}",{amount:`${p} ${h}`})]})})]})]})})]})}function Vs({planId:a,couponCode:w,billingCycle:m,planPrice:h,skrillMerchantId:b,currency:p,onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(""),j=async N=>{if(N.preventDefault(),!t){C.error(s("Please enter your email address"));return}o(!0);try{const u={plan_id:a,billing_cycle:m,coupon_code:w||null,payment_id:`skrill_${Date.now()}`,transaction_id:`txn_${Date.now()}`,email:t};J.post(route("skrill.payment"),u,{onSuccess:()=>{C.success(s("Payment successful!")),k()},onError:l=>{console.error("Skrill payment error:",l),C.error(s("Payment failed. Please try again."))},onFinish:()=>{o(!1)}})}catch(u){console.error("Skrill payment error:",u),C.error(s("Payment failed. Please try again.")),o(!1)}};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),s("Skrill Payment")]})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"email",children:s("Email Address")}),e.jsx(S,{id:"email",type:"email",value:t,onChange:N=>n(N.target.value),placeholder:s("Enter your email address"),required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Skrill to complete the payment")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:x,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:i,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${p} ${h}`})})]})]})})]})}function Gs({planId:a,couponCode:w,billingCycle:m,planPrice:h,currency:b,onSuccess:p,onCancel:k}){const{t:x}=z(),[s,i]=v.useState(!1),o=t=>{var u;t.preventDefault(),i(!0);const n=document.createElement("form");n.method="POST",n.action=route("coingate.payment");const j=(u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content");if(j){const l=document.createElement("input");l.type="hidden",l.name="_token",l.value=j,n.appendChild(l)}Object.entries({plan_id:a,billing_cycle:m,coupon_code:w||"",crypto_currency:"BTC"}).forEach(([l,f])=>{const c=document.createElement("input");c.type="hidden",c.name=l,c.value=String(f),n.appendChild(c)}),document.body.appendChild(n),n.submit()};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5 text-orange-500"}),x("CoinGate Cryptocurrency Payment")]})}),e.jsxs(I,{children:[e.jsxs(A,{className:"mb-4",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx(O,{children:x("You will be redirected to CoinGate to complete your cryptocurrency payment securely.")})]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:x("Plan")}),e.jsxs("span",{className:"text-sm",children:[x(m)," ",x("billing")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:x("Amount")}),e.jsxs("span",{className:"text-lg font-bold",children:[b," ",h]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:x("Final cryptocurrency amount will be calculated at checkout based on current exchange rates")})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:x("Payment Process:")}),e.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[e.jsx("li",{children:x('Click "Pay with Crypto" to proceed to CoinGate')}),e.jsx("li",{children:x("Complete payment using your selected cryptocurrency")}),e.jsx("li",{children:x("You will be redirected back after payment completion")})]})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:k,className:"flex-1",disabled:s,children:x("Cancel")}),e.jsx(_,{type:"submit",disabled:s,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:s?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),x("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"mr-2 h-4 w-4"}),x("Pay with Crypto")]})})]})]})]})]})}function Zs({planId:a,couponCode:w,billingCycle:m,planPrice:h,payfastMerchantId:b,currency:p,onSuccess:k,onCancel:x}){var f;const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState({firstName:"",lastName:"",email:""}),[j,N]=v.useState({}),u=()=>{const c={};return t.firstName.trim()||(c.firstName=s("First name is required")),t.lastName.trim()||(c.lastName=s("Last name is required")),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(c.email=s("Please enter a valid email address")):c.email=s("Email is required"),c},l=async c=>{var y;c.preventDefault();const d=u();if(N(d),Object.keys(d).length>0){C.error(s("Please fix the errors below"));return}if(h<5){C.error(s("Minimum payment amount is R5.00"));return}o(!0);try{const E=await(await fetch(route("payfast.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:m,coupon_code:w,customer_details:t})})).json();if(E.success){const $=document.createElement("form");$.method="POST",$.action=E.action,$.innerHTML=E.inputs,document.body.appendChild($),$.submit()}else C.error(E.error||s("Payment failed")),o(!1)}catch(T){console.error("PayFast payment error:",T),C.error(s("Payment failed. Please try again.")),o(!1)}};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Payfast Payment")]})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((f=document.querySelector('meta[name="csrf-token"]'))==null?void 0:f.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:a}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:m}),e.jsx("input",{type:"hidden",name:"coupon_code",value:w||""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"firstName",children:s("First Name")}),e.jsx(S,{id:"firstName",name:"customer_details[firstName]",value:t.firstName,onChange:c=>{n(d=>({...d,firstName:c.target.value})),j.firstName&&N(d=>({...d,firstName:""}))},placeholder:s("Enter first name"),className:j.firstName?"border-red-500":"",required:!0}),j.firstName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(S,{id:"lastName",name:"customer_details[lastName]",value:t.lastName,onChange:c=>{n(d=>({...d,lastName:c.target.value})),j.lastName&&N(d=>({...d,lastName:""}))},placeholder:s("Enter last name"),className:j.lastName?"border-red-500":"",required:!0}),j.lastName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"email",children:s("Email Address")}),e.jsx(S,{id:"email",name:"customer_details[email]",type:"email",value:t.email,onChange:c=>{n(d=>({...d,email:c.target.value})),j.email&&N(d=>({...d,email:""}))},placeholder:s("Enter email address"),className:j.email?"border-red-500":"",required:!0}),j.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Payfast to complete the payment")})]}),h<5&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("PayFast requires a minimum payment of R5.00. Current amount: {{currency}} {{amount}}",{currency:p,amount:h})})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s("Amount")}),e.jsxs("span",{className:"text-sm font-bold",children:[p," ",h]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Secure payment processing via PayFast")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:x,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:i||h<5,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${p} ${h}`})})]})]})})]})}function Qs({planId:a,couponCode:w,billingCycle:m,planPrice:h,toyyibpayCategoryCode:b,currency:p,onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState({name:"",email:"",phone:""}),[j,N]=v.useState({}),u=()=>{const c={};return t.name.trim()||(c.name=s("Full name is required")),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(c.email=s("Please enter a valid email address")):c.email=s("Email address is required"),t.phone.trim()?t.phone.length<10&&(c.phone=s("Please enter a valid Malaysian phone number")):c.phone=s("Phone number is required"),N(c),Object.keys(c).length===0},l=async c=>{var d;if(c.preventDefault(),!u()){C.error(s("Please fix the form errors"));return}o(!0),N({});try{const y={plan_id:a,billing_cycle:m,coupon_code:w||"",billName:`Plan Subscription - ${a}`,billDescription:`${m} subscription for ${t.name}`,billAmount:h,billTo:t.name.trim(),billEmail:t.email.trim(),billPhone:t.phone.trim()},T=document.createElement("form");T.method="POST",T.action=route("toyyibpay.payment");const E=document.createElement("input");E.type="hidden",E.name="_token",E.value=((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||"",T.appendChild(E),Object.entries(y).forEach(([$,W])=>{const g=document.createElement("input");g.type="hidden",g.name=$,g.value=W.toString(),T.appendChild(g)}),document.body.appendChild(T),T.submit()}catch(y){console.error("ToyyibPay payment error:",y),C.error(s("Payment failed. Please try again.")),o(!1)}},f=c=>{const d=c.replace(/[^0-9]/g,"");return d.startsWith("60")?d.slice(0,12):d.startsWith("0")?"60"+d.slice(1,11):"60"+d.slice(0,10)};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("toyyibPay Payment")]})}),e.jsxs(I,{children:[e.jsxs(A,{className:"mb-4",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to toyyibPay to complete your payment securely via FPX (Malaysian Online Banking)")})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(S,{id:"name",value:t.name,onChange:c=>{n(d=>({...d,name:c.target.value})),j.name&&N(d=>({...d,name:""}))},placeholder:s("Enter your full name"),className:j.name?"border-red-500":"",required:!0}),j.name&&e.jsx("p",{className:"text-sm text-red-500",children:j.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(S,{id:"email",type:"email",value:t.email,onChange:c=>{n(d=>({...d,email:c.target.value})),j.email&&N(d=>({...d,email:""}))},placeholder:s("Enter your email address"),className:j.email?"border-red-500":"",required:!0}),j.email&&e.jsx("p",{className:"text-sm text-red-500",children:j.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(S,{id:"phone",value:t.phone,onChange:c=>{const d=f(c.target.value);n(y=>({...y,phone:d})),j.phone&&N(y=>({...y,phone:""}))},placeholder:"60123456789",className:j.phone?"border-red-500":"",maxLength:12,required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Malaysian format: 60123456789 (numbers only)")}),j.phone&&e.jsx("p",{className:"text-sm text-red-500",children:j.phone})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:s("Payment Method: FPX (Online Banking)")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Secure payment via Malaysian banks including Maybank, CIMB, Public Bank, RHB, and more")})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s("Total Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold",children:[p," ",(()=>{var c;return typeof window<"u"&&((c=window.appSettings)!=null&&c.formatCurrency)?window.appSettings.formatCurrency(h,{showSymbol:!0}):h.toFixed(2)})()]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{type:"button",variant:"outline",onClick:x,className:"flex-1",disabled:i,children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:i,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay Now")]})})]})]})]})]})]})}function er({planId:a,couponCode:w,billingCycle:m,planPrice:h,paytrMerchantId:b,currency:p,onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(!1),[j,N]=v.useState(""),u=v.useRef(null),[l,f]=v.useState({name:"",email:"",phone:"",address:""});v.useEffect(()=>{const d=y=>{y.origin==="https://www.paytr.com"&&(y.data==="success"?(n(!1),k()):y.data==="fail"&&(n(!1),C.error(s("Payment failed"))))};return window.addEventListener("message",d),()=>window.removeEventListener("message",d)},[k,s]);const c=async d=>{var y,T;if(d.preventDefault(),!l.name||!l.email||!l.phone){C.error(s("Please fill in required customer details"));return}o(!0);try{const E=await re.post(route("paytr.create-token"),{plan_id:a,billing_cycle:m,coupon_code:w,user_name:l.name,user_email:l.email,user_phone:l.phone,user_address:l.address});if(E.data.success)N(E.data.iframe_url),n(!0);else throw new Error(E.data.error||"Token creation failed")}catch(E){console.error("PayTR payment error:",E),C.error(((T=(y=E.response)==null?void 0:y.data)==null?void 0:T.error)||s("Payment failed. Please try again."))}finally{o(!1)}};return t?e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTR Payment")]}),e.jsx(_,{variant:"outline",size:"sm",onClick:()=>n(!1),children:s("Back")})]})}),e.jsxs(I,{children:[e.jsx("div",{className:"w-full h-[600px] border rounded-lg overflow-hidden",children:e.jsx("iframe",{ref:u,src:j,width:"100%",height:"100%",frameBorder:"0",scrolling:"auto",title:"PayTR Payment"})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:s("Complete your payment in the secure PayTR iframe above")})]})]}):e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTR Payment")]})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(S,{id:"name",value:l.name,onChange:d=>f(y=>({...y,name:d.target.value})),placeholder:s("Enter full name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(S,{id:"email",type:"email",value:l.email,onChange:d=>f(y=>({...y,email:d.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(S,{id:"phone",value:l.phone,onChange:d=>f(y=>({...y,phone:d.target.value})),placeholder:"+905xxxxxxxxx",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Turkish phone number format: +905xxxxxxxxx")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"address",children:s("Address")}),e.jsx(S,{id:"address",value:l.address,onChange:d=>f(y=>({...y,address:d.target.value})),placeholder:s("Enter address (optional)")})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:s("Secure Payment via PayTR")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Credit Card, Debit Card - Real-time payment processing")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:x,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:i,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${h} ${p}`})})]})]})})]})}function sr({planId:a,couponCode:w,billingCycle:m,planPrice:h,mollieApiKey:b,currency:p,onSuccess:k,onCancel:x}){var N;const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState({firstName:"",lastName:"",email:""}),j=u=>{if(!t.firstName||!t.lastName||!t.email){u.preventDefault(),alert(s("Please fill in all customer details"));return}o(!0)};return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Mollie Payment")]})}),e.jsx(I,{children:e.jsxs("form",{action:route("mollie.payment"),method:"POST",onSubmit:j,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((N=document.querySelector('meta[name="csrf-token"]'))==null?void 0:N.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:a}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:m}),e.jsx("input",{type:"hidden",name:"coupon_code",value:w||""}),e.jsx("input",{type:"hidden",name:"payment_id",value:`mollie_${Date.now()}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"firstName",children:s("First Name")}),e.jsx(S,{id:"firstName",name:"customer_details[firstName]",value:t.firstName,onChange:u=>n(l=>({...l,firstName:u.target.value})),placeholder:s("Enter first name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(S,{id:"lastName",name:"customer_details[lastName]",value:t.lastName,onChange:u=>n(l=>({...l,lastName:u.target.value})),placeholder:s("Enter last name"),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"email",children:s("Email Address")}),e.jsx(S,{id:"email",name:"customer_details[email]",type:"email",value:t.email,onChange:u=>n(l=>({...l,email:u.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:x,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:i,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`€${h}`})})]})]})})]})}function rr({planId:a,planPrice:w,couponCode:m,billingCycle:h,cashfreeAppId:b,mode:p="sandbox",currency:k="INR",onSuccess:x,onCancel:s}){const{t:i}=z();v.useEffect(()=>{if(window&&window.Cashfree)return;const t=document.createElement("script");return t.src="https://sdk.cashfree.com/js/v3/cashfree.js",t.async=!0,t.onerror=()=>{C.error(i("Failed to load Cashfree SDK. Please try again."))},document.body.appendChild(t),()=>{document.body.contains(t)&&document.body.removeChild(t)}},[p]);const o=async()=>{var t,n,j;try{const N=await re.post(route("cashfree.create-session"),{plan_id:a,billing_cycle:h,coupon_code:m,_token:(t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content")});if(N.data.error){C.error(N.data.error);return}const{payment_session_id:u,order_id:l,amount:f,mode:c}=N.data;if(!u||!l){C.error(i("Invalid response from server"));return}if(!c){C.error(i("Payment mode not configured"));return}if(!window.Cashfree){C.error(i("Cashfree SDK not loaded"));return}const d=c==="production"?"PROD":"SANDBOX";try{const E=window.Cashfree({mode:d})}catch(E){C.error("Failed to initialize Cashfree: "+E.message);return}const y=window.Cashfree({mode:d}),T={paymentSessionId:u,returnUrl:window.location.origin+route("dashboard"),redirectTarget:"_modal",mode:d,style:{zIndex:99999}};y.checkout(T).then(E=>{var $,W;if(E.error){C.error(E.error.message||i("Payment failed"));return}E.paymentDetails?re.post(route("cashfree.verify-payment"),{order_id:l,cf_payment_id:($=E.paymentDetails)==null?void 0:$.paymentId,plan_id:a,billing_cycle:h,coupon_code:m,_token:(W=document.querySelector('meta[name="csrf-token"]'))==null?void 0:W.getAttribute("content")}).then(g=>{x()}).catch(g=>{var V,Z;const Y=((Z=(V=g.response)==null?void 0:V.data)==null?void 0:Z.error)||i("Payment verification failed");C.error(Y)}):C.error(i("Payment status unclear"))}).catch(E=>{C.error(E.message||i("Payment initialization failed"))})}catch(N){const u=((j=(n=N.response)==null?void 0:n.data)==null?void 0:j.error)||i("Failed to initialize payment");C.error(u)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:i("You will be redirected to Cashfree to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:s,className:"flex-1",children:i("Cancel")}),e.jsx(_,{onClick:o,className:"flex-1",children:i("Pay with Cashfree")})]})]})}function ar({planId:a,planPrice:w,couponCode:m,billingCycle:h,iyzipayPublicKey:b,currency:p="USD",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),[j,N]=v.useState(null),u=async()=>{var f;if(!b){n(s("Iyzipay configuration is missing"));return}o(!0),n(null);try{const d=await(await fetch(route("iyzipay.create-form"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((f=document.querySelector('meta[name="csrf-token"]'))==null?void 0:f.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(d.success)window.location.href=d.redirect_url;else throw new Error(d.error||s("Failed to create payment form"))}catch(c){console.error("Iyzipay payment error:",c),n(c instanceof Error?c.message:s("Payment initialization failed"))}finally{o(!1)}},l=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:p}).format(f);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Iyzipay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:l(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(D,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:s("Redirecting to payment page...")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Iyzipay secure payment page to complete your payment.")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:u,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Iyzipay")]})})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Iyzipay - Secure payment processing")})]})]})}function tr({planId:a,planPrice:w,couponCode:m,billingCycle:h,benefitPublicKey:b,currency:p="BHD",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("Benefit payment configuration is missing"));return}o(!0),n(null);try{const f=await(await fetch(route("benefit.create-session"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success)window.location.href=f.payment_url;else throw new Error(f.error||s("Failed to create payment session"))}catch(l){console.error("Benefit payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("en-BH",{style:"currency",currency:p,minimumFractionDigits:3}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Benefit Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Benefit to complete your payment securely. Benefit is the leading payment gateway in Bahrain.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Benefit Debit Cards")]}),e.jsxs("li",{children:["• ",s("Visa Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Mastercard Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Benefit Pay Mobile Wallet")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with Benefit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Benefit - Bahrain's trusted payment gateway")})]})]})}function nr({planId:a,planPrice:w,couponCode:m,billingCycle:h,ozowSiteKey:b,currency:p="ZAR",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("Ozow not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("ozow.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success)window.location.href=f.payment_url;else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("Ozow payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Ozow Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Ozow to complete your payment securely. Ozow is South Africa's trusted instant payment gateway.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Banks")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Standard Bank"}),e.jsx("li",{children:"• FNB"}),e.jsx("li",{children:"• ABSA"}),e.jsx("li",{children:"• Nedbank"}),e.jsx("li",{children:"• Capitec Bank"}),e.jsx("li",{children:"• And more South African banks"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with Ozow")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Ozow - South Africa's instant payment gateway")})]})]})}function lr({planId:a,planPrice:w,couponCode:m,billingCycle:h,easebuzzMerchantKey:b,currency:p="INR",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("Easebuzz not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("easebuzz.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success)window.location.href=f.payment_url;else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("Easebuzz payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Easebuzz Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Easebuzz to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Net Banking"}),e.jsx("li",{children:"• UPI"}),e.jsx("li",{children:"• Wallets"}),e.jsx("li",{children:"• EMI Options"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with Easebuzz")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Easebuzz - Secure payment processing")})]})]})}function cr({planId:a,planPrice:w,couponCode:m,billingCycle:h,khaltiPublicKey:b,currency:p="NPR",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var c;if(!b){n(s("Khalti not configured"));return}o(!0),n(null);try{const y=await(await fetch(route("khalti.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(y.success)N(y);else throw new Error(y.error||s("Payment creation failed"))}catch(d){console.error("Khalti payment error:",d),n(d instanceof Error?d.message:s("Payment initialization failed")),o(!1)}},N=c=>{if(window.KhaltiCheckout)u(c);else{const d=document.createElement("script");d.src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js",d.onload=()=>{u(c)},document.head.appendChild(d)}},u=c=>{const d={publicKey:c.public_key,productIdentity:c.product_identity,productName:c.product_name,productUrl:c.product_url,paymentPreference:["KHALTI","EBANKING","MOBILE_BANKING","CONNECT_IPS","SCT"],eventHandler:{onSuccess(T){l(T.token,T.amount)},onError(T){console.error("Khalti payment error:",T),n(s("Payment failed")),o(!1)},onClose(){o(!1)}}};new window.KhaltiCheckout(d).show({amount:c.amount})},l=(c,d)=>{J.post(route("khalti.payment"),{plan_id:a,billing_cycle:h,coupon_code:m,token:c,amount:d/100},{onSuccess:()=>{C.success(s("Payment successful")),k()},onError:y=>{console.error("Payment processing error:",y),n(Object.values(y).flat().join(", ")),o(!1)}})},f=c=>new Intl.NumberFormat("en-NP",{style:"currency",currency:p}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Khalti Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:f(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("Khalti is Nepal's most popular digital wallet and payment gateway.")})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Khalti Wallet"}),e.jsx("li",{children:"• eBanking"}),e.jsx("li",{children:"• Mobile Banking"}),e.jsx("li",{children:"• Connect IPS"}),e.jsx("li",{children:"• SCT Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Khalti")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Khalti - Nepal's digital wallet")})]})]})}function ir({planId:a,planPrice:w,couponCode:m,billingCycle:h,authorizenetMerchantId:b,currency:p="USD",isSandbox:k=!1,supportedCountries:x=["US","CA","GB","AU"],supportedCurrencies:s=["USD","CAD","CHF","DKK","EUR","GBP","NOK","PLN","SEK","AUD","NZD"],onSuccess:i,onCancel:o}){const{t}=z(),[n,j]=v.useState(!1),[N,u]=v.useState(null),[l,f]=v.useState({}),[c,d]=v.useState({card_number:"",expiry_month:"",expiry_year:"",cvv:"",cardholder_name:""}),y=M=>{const X=M.replace(/\s/g,"");return/^[0-9]{13,19}$/.test(X)},T=M=>/^(0[1-9]|1[0-2])$/.test(M),E=M=>{if(!/^[0-9]{2}$/.test(M))return!1;const X=new Date().getFullYear()%100,U=parseInt(M);return U>=X&&U<=X+20},$=M=>/^[0-9]{3,4}$/.test(M),W=M=>M.trim().length>=2&&M.trim().length<=50,g=M=>{const X=M.replace(/\s/g,""),U=X.match(/.{1,4}/g);return U?U.join(" "):X},Y=(M,X)=>{let U=X;M==="card_number"?U=g(X.replace(/\s/g,"").slice(0,19)):M==="expiry_month"?U=X.replace(/\D/g,"").slice(0,2):M==="expiry_year"?U=X.replace(/\D/g,"").slice(0,2):M==="cvv"&&(U=X.replace(/\D/g,"").slice(0,4)),d(ee=>({...ee,[M]:U})),l[M]&&f(ee=>({...ee,[M]:""}))},V=()=>{const M={};return y(c.card_number)||(M.card_number=t("Please enter a valid card number (13-19 digits)")),T(c.expiry_month)||(M.expiry_month=t("Please enter a valid month (01-12)")),E(c.expiry_year)||(M.expiry_year=t("Please enter a valid year (current year or later)")),$(c.cvv)||(M.cvv=t("Please enter a valid CVV (3-4 digits)")),W(c.cardholder_name)||(M.cardholder_name=t("Please enter a valid cardholder name (2-50 characters)")),f(M),Object.keys(M).length===0},Z=async()=>{if(!b){u(t("AuthorizeNet not configured"));return}if(!V()){u(t("Please correct the errors below"));return}j(!0),u(null),J.post(route("authorizenet.payment"),{plan_id:a,billing_cycle:h,coupon_code:m,...c},{onSuccess:()=>{C.success(t("Payment successful")),i()},onError:M=>{console.error("Payment processing error:",M),u(Object.values(M).flat().join(", ")),j(!1)}})},ae=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:p}).format(M);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),t("AuthorizeNet Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[N&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:N})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:t("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:ae(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[t("Billing Cycle"),": ",t(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[t("Coupon Applied"),": ",m]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(K,{htmlFor:"cardholder_name",children:t("Cardholder Name")}),e.jsx(S,{id:"cardholder_name",value:c.cardholder_name,onChange:M=>Y("cardholder_name",M.target.value),placeholder:t("Enter cardholder name"),className:l.cardholder_name?"border-red-500":""}),l.cardholder_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.cardholder_name})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"card_number",children:t("Card Number")}),e.jsx(S,{id:"card_number",value:c.card_number,onChange:M=>Y("card_number",M.target.value),placeholder:"1234 5678 9012 3456",maxLength:23,className:l.card_number?"border-red-500":""}),l.card_number&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.card_number})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(K,{htmlFor:"expiry_month",children:t("Month")}),e.jsx(S,{id:"expiry_month",value:c.expiry_month,onChange:M=>Y("expiry_month",M.target.value),placeholder:"MM",maxLength:2,className:l.expiry_month?"border-red-500":""}),l.expiry_month&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.expiry_month})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"expiry_year",children:t("Year")}),e.jsx(S,{id:"expiry_year",value:c.expiry_year,onChange:M=>Y("expiry_year",M.target.value),placeholder:"YY",maxLength:2,className:l.expiry_year?"border-red-500":""}),l.expiry_year&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.expiry_year})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"cvv",children:t("CVV")}),e.jsx(S,{id:"cvv",value:c.cvv,onChange:M=>Y("cvv",M.target.value),placeholder:"123",maxLength:4,className:l.cvv?"border-red-500":""}),l.cvv&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.cvv})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:o,disabled:n,className:"flex-1",children:t("Cancel")}),e.jsx(_,{onClick:Z,disabled:n||!b,className:"flex-1",children:n?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),t("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),t("Pay with AuthorizeNet")]})})]}),e.jsxs("div",{className:"space-y-2",children:[k&&e.jsxs(A,{children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx(O,{children:t("Test Mode: This is a sandbox transaction. No real money will be charged.")})]}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(xs,{className:"h-3 w-3 text-green-500"}),t("Powered by AuthorizeNet - Secure payment processing")]}),e.jsxs("div",{children:[t("Supported currencies"),": ",s.join(", ")]}),e.jsxs("div",{children:[t("Supported countries"),": ",x.join(", ")]})]})]})]})]})}function or({planId:a,planPrice:w,couponCode:m,billingCycle:h,fedapayPublicKey:b,currency:p="XOF",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("FedaPay not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("fedapay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success)window.location.href=f.payment_url;else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("FedaPay payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("FedaPay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to FedaPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (MTN, Moov, Orange)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with FedaPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by FedaPay - West Africa's payment gateway")})]})]})}function dr({planId:a,planPrice:w,couponCode:m,billingCycle:h,payhereMerchantId:b,currency:p="LKR",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("PayHere not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("payhere.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success){const c=document.createElement("form");c.method="POST",c.action=f.payment_url,Object.keys(f.payment_data).forEach(d=>{const y=document.createElement("input");y.type="hidden",y.name=d,y.value=f.payment_data[d],c.appendChild(y)}),document.body.appendChild(c),c.submit()}else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("PayHere payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("en-LK",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayHere Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to PayHere to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Lanka QR"}),e.jsx("li",{children:"• eZ Cash"}),e.jsx("li",{children:"• mCash"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with PayHere")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by PayHere - Sri Lanka's payment gateway")})]})]})}function mr({planId:a,planPrice:w,couponCode:m,billingCycle:h,cinetpaySiteId:b,currency:p="XOF",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("CinetPay not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("cinetpay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success){if(f.redirect_url)window.location.href=f.redirect_url;else if(f.payment_data){const c=document.createElement("form");c.method="POST",c.action=f.payment_url,Object.keys(f.payment_data).forEach(d=>{const y=document.createElement("input");y.type="hidden",y.name=d,y.value=f.payment_data[d],c.appendChild(y)}),document.body.appendChild(c),c.submit()}}else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("CinetPay payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("CinetPay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to CinetPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (Orange, MTN, Moov)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with CinetPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by CinetPay - African payment gateway")})]})]})}function ur({planId:a,planPrice:w,couponCode:m,billingCycle:h,paiementMerchantId:b,currency:p="XOF",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),[j,N]=v.useState(""),[u,l]=v.useState(""),f=[{value:"ALL",label:"All Channels"},{value:"MOBILE_MONEY",label:"Mobile Money"},{value:"CARD",label:"Card Payment"},{value:"BANK_TRANSFER",label:"Bank Transfer"}],c=async()=>{var y;if(!b){n(s("Paiement Pro not configured"));return}o(!0),n(null);try{const E=await(await fetch(route("paiement.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m,mobile_number:j,channel:u})})).json();if(E.success)window.location.href=E.payment_url;else throw new Error(E.error||s("Payment creation failed"))}catch(T){console.error("Paiement Pro payment error:",T),n(T instanceof Error?T.message:s("Payment initialization failed")),o(!1)}},d=y=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:p}).format(y);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Paiement Pro Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:d(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(K,{htmlFor:"customerPhoneNumber",children:[s("Phone Number")," *"]}),e.jsx(S,{id:"customerPhoneNumber",type:"tel",value:j,onChange:y=>N(y.target.value),placeholder:s("Enter your phone number"),required:!0})]}),e.jsxs("div",{children:[e.jsxs(K,{htmlFor:"channel",children:[s("Payment Channel")," *"]}),e.jsxs("select",{id:"channel",value:u,onChange:y=>l(y.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"",children:s("Select payment channel")}),f.map(y=>e.jsx("option",{value:y.value,children:s(y.label)},y.value))]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money"}),e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:c,disabled:i||!b||!j||!u,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with Paiement Pro")]})})]})]})]})}function hr({planId:a,planPrice:w,couponCode:m,billingCycle:h,nepalstePublicKey:b,currency:p="NPR",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("Nepalste not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("nepalste.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success){const c=document.createElement("form");c.method="POST",c.action=f.payment_url,Object.keys(f.payment_data).forEach(d=>{const y=document.createElement("input");y.type="hidden",y.name=d,y.value=typeof f.payment_data[d]=="object"?JSON.stringify(f.payment_data[d]):f.payment_data[d],c.appendChild(y)}),document.body.appendChild(c),c.submit()}else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("Nepalste payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("en-NP",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Nepalste Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsx("li",{children:"• eSewa"}),e.jsx("li",{children:"• Khalti"}),e.jsx("li",{children:"• IME Pay"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with Nepalste")]})})]})]})]})}function xr({planId:a,planPrice:w,couponCode:m,billingCycle:h,yookassaShopId:b,currency:p="RUB",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("YooKassa not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("yookassa.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success)window.location.href=f.payment_url;else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("YooKassa payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("YooKassa Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• YooMoney"}),e.jsx("li",{children:"• Qiwi"}),e.jsx("li",{children:"• Sberbank Online"}),e.jsx("li",{children:"• Alfa-Click"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with YooKassa")]})})]})]})]})}function pr({planId:a,planPrice:w,couponCode:m,billingCycle:h,aamarpayStoreId:b,currency:p="BDT",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("Aamarpay not configured"));return}o(!0),n(null);try{const l=document.createElement("form");l.method="POST",l.action=route("aamarpay.create-payment");const f=document.createElement("input");f.type="hidden",f.name="_token",f.value=((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||"",l.appendChild(f);const c=document.createElement("input");c.type="hidden",c.name="plan_id",c.value=a.toString(),l.appendChild(c);const d=document.createElement("input");if(d.type="hidden",d.name="billing_cycle",d.value=h,l.appendChild(d),m){const y=document.createElement("input");y.type="hidden",y.name="coupon_code",y.value=m,l.appendChild(y)}document.body.appendChild(l),l.submit()}catch(l){console.error("Aamarpay payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("bn-BD",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Aamarpay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• bKash"}),e.jsx("li",{children:"• Nagad"}),e.jsx("li",{children:"• Rocket"}),e.jsx("li",{children:"• Bank Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with Aamarpay")]})})]})]})]})}function fr({planId:a,planPrice:w,couponCode:m,billingCycle:h,midtransSecretKey:b,currency:p="IDR",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var c;if(!b){n(s("Midtrans not configured"));return}o(!0),n(null);try{const y=await(await fetch(route("midtrans.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(y.success)N(y.snap_token,y.order_id);else throw new Error(y.error||s("Payment creation failed"))}catch(d){console.error("Midtrans payment error:",d),n(d instanceof Error?d.message:s("Payment initialization failed")),o(!1)}},N=(c,d)=>{if(window.snap)u(c,d);else{const y=document.createElement("script");y.src="https://app.sandbox.midtrans.com/snap/snap.js",y.setAttribute("data-client-key",b),y.onload=()=>{u(c,d)},y.onerror=()=>{n(s("Failed to load Midtrans script")),o(!1)},document.head.appendChild(y)}},u=(c,d)=>{window.snap.pay(c,{onSuccess:y=>{l(y,d)},onPending:y=>{o(!1)},onError:y=>{n(s("Payment failed")),o(!1)},onClose:()=>{o(!1)}})},l=(c,d)=>{J.post(route("midtrans.payment"),{plan_id:a,billing_cycle:h,coupon_code:m,transaction_status:c.transaction_status,order_id:d},{onSuccess:()=>{k()},onError:y=>{console.error("Payment processing error:",y),n(Object.values(y).flat().join(", ")),o(!1)}})},f=c=>new Intl.NumberFormat("id-ID",{style:"currency",currency:p}).format(c);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Midtrans Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:f(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (GoPay, OVO, DANA)"}),e.jsx("li",{children:"• Convenience Stores"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Midtrans")]})})]})]})]})}function jr({planId:a,planPrice:w,couponCode:m,billingCycle:h,paymentwallPublicKey:b,currency:p="USD",onSuccess:k,onCancel:x}){var y;const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),[j,N]=v.useState(!1),[u,l]=v.useState(null),f=v.useRef(null);v.useEffect(()=>{(()=>{if(window.Brick){N(!0);return}const E=document.createElement("script");E.src="https://api.paymentwall.com/brick/build/brick-default.1.5.0.min.js",E.async=!0,E.onload=()=>{N(!0)},E.onerror=()=>{n(s("Failed to load PaymentWall payment form"))},document.head.appendChild(E)})()},[s]),v.useEffect(()=>{j&&b&&!u&&c()},[j,b,u]);const c=async()=>{var T;try{const $=await(await fetch(route("paymentwall.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((T=document.querySelector('meta[name="csrf-token"]'))==null?void 0:T.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if($.success&&$.brick_config){const W=$.brick_config,g=new window.Brick({public_key:W.public_key,amount:W.amount,currency:W.currency,container:"paymentwall-form-container",action:route("paymentwall.process"),form:{merchant:"PaymentWall",product:W.plan_name,pay_button:s("Pay Now"),show_zip:!0,show_cardholder:!0}});g.showPaymentForm(Y=>{k()},Y=>{console.error("Payment error:",Y),Y&&Y.length>0?n(Y[0].message||s("Payment failed")):n(s("Payment failed")),o(!1)}),l(g)}else throw new Error($.error||s("Failed to initialize payment form"))}catch(E){console.error("PaymentWall initialization error:",E),n(E instanceof Error?E.message:s("Payment initialization failed"))}},d=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:p}).format(T);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PaymentWall Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:d(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{id:"paymentwall-form-container",ref:f,className:"min-h-[300px]",children:!j&&e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(D,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:s("Loading payment form...")})]})}),e.jsxs("form",{id:"brick-form",style:{display:"none"},children:[e.jsx("input",{type:"hidden",name:"plan_id",value:a}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:h}),e.jsx("input",{type:"hidden",name:"coupon_code",value:m||""}),e.jsx("input",{type:"hidden",name:"_token",value:((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||""})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Secure Payment")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• SSL Encrypted & PCI DSS Compliant"}),e.jsx("li",{children:"• Multiple Payment Methods Supported"}),e.jsx("li",{children:"• Powered by PaymentWall"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),!j&&e.jsxs(_,{disabled:!0,className:"flex-1",children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Loading...")]})]})]})]})}function yr({planId:a,planPrice:w,couponCode:m,billingCycle:h,sspaySecretKey:b,currency:p="MYR",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("SSPay not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("sspay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success){const c=document.createElement("form");c.method="POST",c.action=f.payment_url,Object.keys(f.payment_data).forEach(d=>{const y=document.createElement("input");y.type="hidden",y.name=d,y.value=f.payment_data[d],c.appendChild(y)}),document.body.appendChild(c),c.submit()}else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("SSPay payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("SSPay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[e.jsx("h4",{className:"font-medium text-teal-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-teal-800 space-y-1",children:[e.jsx("li",{children:"• Online Banking"}),e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• E-Wallets"}),e.jsx("li",{children:"• FPX"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with SSPay")]})})]})]})]})}function br({planId:a,planPrice:w,couponCode:m,billingCycle:h,tapSecretKey:b,currency:p="USD",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("Tap not configured"));return}o(!0),n(null);try{const l=document.createElement("form");l.method="POST",l.action=route("tap.create-payment");const f=document.createElement("input");f.type="hidden",f.name="_token",f.value=((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||"",l.appendChild(f);const c=document.createElement("input");c.type="hidden",c.name="plan_id",c.value=a.toString(),l.appendChild(c);const d=document.createElement("input");if(d.type="hidden",d.name="billing_cycle",d.value=h,l.appendChild(d),m){const y=document.createElement("input");y.type="hidden",y.name="coupon_code",y.value=m,l.appendChild(y)}document.body.appendChild(l),l.submit()}catch(l){console.error("Tap payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Tap Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Tap to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Apple Pay"}),e.jsx("li",{children:"• Google Pay"}),e.jsx("li",{children:"• KNET"}),e.jsx("li",{children:"• Benefit Pay"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with Tap")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Tap - Secure payment processing")})]})]})}function Nr({planId:a,planPrice:w,couponCode:m,billingCycle:h,xenditApiKey:b,currency:p="PHP",onSuccess:k,onCancel:x}){const{t:s}=z(),[i,o]=v.useState(!1),[t,n]=v.useState(null),j=async()=>{var u;if(!b){n(s("Xendit not configured"));return}o(!0),n(null);try{const f=await(await fetch(route("xendit.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:h,coupon_code:m})})).json();if(f.success)window.location.href=f.payment_url;else throw new Error(f.error||s("Payment creation failed"))}catch(l){console.error("Xendit payment error:",l),n(l instanceof Error?l.message:s("Payment initialization failed")),o(!1)}},N=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:p}).format(u);return e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Xendit Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[t&&e.jsxs(A,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:t})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:N(w)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(h)]}),m&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",m]})]}),e.jsxs(A,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(O,{children:s("You will be redirected to Xendit to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (OVO, DANA, LinkAja)"}),e.jsx("li",{children:"• Virtual Accounts"}),e.jsx("li",{children:"• Retail Outlets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:x,disabled:i,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:j,disabled:i||!b,className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("Pay with Xendit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Xendit - Secure payment processing")})]})]})}function vr({plan:a,billingCycle:w,paymentMethods:m,onSuccess:h,onCancel:b}){const{t:p}=z(),[k,x]=v.useState(""),[s,i]=v.useState(""),[o,t]=v.useState(null),[n,j]=v.useState(!1),[N,u]=v.useState(!1),l=w==="yearly"&&a.yearly_price?Number(a.yearly_price):Number(a.price),f=o?o.type==="percentage"?l*o.value/100:o.value:0,c=Math.max(0,l-f),d=async()=>{var g;if(!s.trim()){C.error(p("Please enter a coupon code"));return}j(!0);try{const Y=await fetch(route("coupons.validate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content"))||""},body:JSON.stringify({coupon_code:s,plan_id:a.id,amount:l})}),V=await Y.json();Y.ok&&V.valid?(t(V.coupon),C.success(p("Coupon applied successfully"))):(C.error(V.message||p("Invalid coupon code")),t(null))}catch{C.error(p("Failed to validate coupon")),t(null)}finally{j(!1)}},y=()=>{t(null),i("")},T=()=>{if(!k){C.error(p("Please select a payment method"));return}u(!0)},E=()=>{u(!1),x("")},$=m.filter(g=>g.enabled),W=()=>{var Y,V,Z,ae,M,X,U,ee,te,ne,Q,le,r,P,G,se,xe,pe,fe,je,ye,be,Ne,ve,we,ge,_e,Pe,Ce,ke,Fe,Ee,Me,Te,ze,Ae,Oe,Re,Ie,De,Be,Le,qe,Ke,Ye,$e,Se,Xe,Ue,We,He,Je,Ve,Ge,Ze,Qe,es,ss,rs,as,ts,ns,ls,cs;const g={planId:a.id,couponCode:s,billingCycle:w,onSuccess:h,onCancel:E};switch(k){case"stripe":return e.jsx(Ys,{...g,stripeKey:((Y=a.paymentMethods)==null?void 0:Y.stripe_key)||""});case"paypal":return e.jsx($s,{...g,planPrice:c,paypalClientId:((V=a.paymentMethods)==null?void 0:V.paypal_client_id)||"",currency:((Z=a.paymentMethods)==null?void 0:Z.defaultCurrency)||"usd"});case"bank":return e.jsx(Ss,{...g,planPrice:Number(a.price),bankDetails:((ae=a.paymentMethods)==null?void 0:ae.bank_detail)||""});case"razorpay":return e.jsx(Xs,{...g,planPrice:Number(a.price),razorpayKey:((M=a.paymentMethods)==null?void 0:M.razorpay_key)||"",currency:((X=a.paymentMethods)==null?void 0:X.currency)||"INR"});case"mercadopago":return e.jsx(Us,{...g,planPrice:Number(a.price),accessToken:((U=a.paymentMethods)==null?void 0:U.mercadopago_access_token)||"",currency:((ee=a.paymentMethods)==null?void 0:ee.currency)||"BRL"});case"paystack":return e.jsx(Ws,{...g,planPrice:Number(a.price),paystackKey:((te=a.paymentMethods)==null?void 0:te.paystack_public_key)||"",currency:((ne=a.paymentMethods)==null?void 0:ne.currency)||"NGN"});case"flutterwave":return e.jsx(Hs,{...g,planPrice:Number(a.price),flutterwaveKey:((Q=a.paymentMethods)==null?void 0:Q.flutterwave_public_key)||"",currency:((le=a.paymentMethods)==null?void 0:le.currency)||"NGN"});case"paytabs":return e.jsx(Js,{...g,planPrice:Number(a.price),paytabsClientKey:"",currency:((r=a.paymentMethods)==null?void 0:r.currency)||"USD"});case"skrill":return e.jsx(Vs,{...g,planPrice:Number(a.price),skrillMerchantId:((P=a.paymentMethods)==null?void 0:P.skrill_merchant_id)||"",currency:((G=a.paymentMethods)==null?void 0:G.currency)||"USD"});case"coingate":return e.jsx(Gs,{...g,planPrice:Number(a.price),coinGateApiToken:((se=a.paymentMethods)==null?void 0:se.coingate_api_token)||"",currency:((xe=a.paymentMethods)==null?void 0:xe.currency)||"USD"});case"payfast":return e.jsx(Zs,{...g,planPrice:Number(a.price),payfastMerchantId:((pe=a.paymentMethods)==null?void 0:pe.payfast_merchant_id)||"",currency:((fe=a.paymentMethods)==null?void 0:fe.currency)||"ZAR"});case"toyyibpay":return e.jsx(Qs,{...g,planPrice:Number(a.price),toyyibpayCategoryCode:((je=a.paymentMethods)==null?void 0:je.toyyibpay_category_code)||"",currency:((ye=a.paymentMethods)==null?void 0:ye.currency)||"MYR"});case"paytr":return e.jsx(er,{...g,planPrice:Number(a.price),paytrMerchantId:((be=a.paymentMethods)==null?void 0:be.paytr_merchant_id)||"",currency:((Ne=a.paymentMethods)==null?void 0:Ne.currency)||"TRY"});case"mollie":return e.jsx(sr,{...g,planPrice:Number(a.price),mollieApiKey:((ve=a.paymentMethods)==null?void 0:ve.mollie_api_key)||"",currency:((we=a.paymentMethods)==null?void 0:we.currency)||"EUR"});case"cashfree":return e.jsx(rr,{...g,planPrice:Number(a.price),cashfreeAppId:((ge=a.paymentMethods)==null?void 0:ge.cashfree_public_key)||"",mode:((_e=a.paymentMethods)==null?void 0:_e.cashfree_mode)||"sandbox",currency:((Pe=a.paymentMethods)==null?void 0:Pe.currency)||"INR"});case"iyzipay":return e.jsx(ar,{...g,planPrice:Number(a.price),iyzipayPublicKey:((Ce=a.paymentMethods)==null?void 0:Ce.iyzipay_public_key)||"",currency:((ke=a.paymentMethods)==null?void 0:ke.currency)||"USD"});case"benefit":return e.jsx(tr,{...g,planPrice:Number(a.price),benefitPublicKey:((Fe=a.paymentMethods)==null?void 0:Fe.benefit_public_key)||"",currency:((Ee=a.paymentMethods)==null?void 0:Ee.currency)||"BHD"});case"ozow":return e.jsx(nr,{...g,planPrice:Number(a.price),ozowSiteKey:((Me=a.paymentMethods)==null?void 0:Me.ozow_site_key)||"",currency:((Te=a.paymentMethods)==null?void 0:Te.currency)||"ZAR"});case"easebuzz":return e.jsx(lr,{...g,planPrice:Number(a.price),easebuzzMerchantKey:((ze=a.paymentMethods)==null?void 0:ze.easebuzz_merchant_key)||"",currency:((Ae=a.paymentMethods)==null?void 0:Ae.currency)||"INR"});case"khalti":return e.jsx(cr,{...g,planPrice:Number(a.price),khaltiPublicKey:((Oe=a.paymentMethods)==null?void 0:Oe.khalti_public_key)||"",currency:((Re=a.paymentMethods)==null?void 0:Re.currency)||"NPR"});case"authorizenet":return e.jsx(ir,{...g,planPrice:Number(a.price),authorizenetMerchantId:((Ie=a.paymentMethods)==null?void 0:Ie.authorizenet_merchant_id)||"",currency:((De=a.paymentMethods)==null?void 0:De.currency)||"USD"});case"fedapay":return e.jsx(or,{...g,planPrice:Number(a.price),fedapayPublicKey:((Be=a.paymentMethods)==null?void 0:Be.fedapay_public_key)||"",currency:((Le=a.paymentMethods)==null?void 0:Le.currency)||"XOF"});case"payhere":return e.jsx(dr,{...g,planPrice:Number(a.price),payhereMerchantId:((qe=a.paymentMethods)==null?void 0:qe.payhere_merchant_id)||"",currency:((Ke=a.paymentMethods)==null?void 0:Ke.currency)||"LKR"});case"cinetpay":return e.jsx(mr,{...g,planPrice:Number(a.price),cinetpaySiteId:((Ye=a.paymentMethods)==null?void 0:Ye.cinetpay_site_id)||"",currency:(($e=a.paymentMethods)==null?void 0:$e.currency)||"XOF"});case"paiement":return e.jsx(ur,{...g,planPrice:c,paiementMerchantId:((Se=a.paymentMethods)==null?void 0:Se.paiement_merchant_id)||"",currency:((Xe=a.paymentMethods)==null?void 0:Xe.currency)||"XOF"});case"nepalste":return e.jsx(hr,{...g,planPrice:Number(a.price),nepalstePublicKey:((Ue=a.paymentMethods)==null?void 0:Ue.nepalste_public_key)||"",currency:((We=a.paymentMethods)==null?void 0:We.currency)||"NPR"});case"yookassa":return e.jsx(xr,{...g,planPrice:Number(a.price),yookassaShopId:((He=a.paymentMethods)==null?void 0:He.yookassa_shop_id)||"",currency:((Je=a.paymentMethods)==null?void 0:Je.currency)||"RUB"});case"aamarpay":return e.jsx(pr,{...g,planPrice:Number(a.price),aamarpayStoreId:((Ve=a.paymentMethods)==null?void 0:Ve.aamarpay_store_id)||"",currency:((Ge=a.paymentMethods)==null?void 0:Ge.currency)||"BDT"});case"midtrans":return e.jsx(fr,{...g,planPrice:Number(a.price),midtransSecretKey:((Ze=a.paymentMethods)==null?void 0:Ze.midtrans_secret_key)||"",currency:((Qe=a.paymentMethods)==null?void 0:Qe.currency)||"IDR"});case"paymentwall":return e.jsx(jr,{...g,planPrice:Number(a.price),paymentwallPublicKey:((es=a.paymentMethods)==null?void 0:es.paymentwall_public_key)||"",currency:((ss=a.paymentMethods)==null?void 0:ss.currency)||"USD"});case"sspay":return e.jsx(yr,{...g,planPrice:Number(a.price),sspaySecretKey:((rs=a.paymentMethods)==null?void 0:rs.sspay_secret_key)||"",currency:((as=a.paymentMethods)==null?void 0:as.currency)||"MYR"});case"tap":return e.jsx(br,{...g,planPrice:Number(a.price),tapSecretKey:((ts=a.paymentMethods)==null?void 0:ts.tap_secret_key)||"",currency:((ns=a.paymentMethods)==null?void 0:ns.currency)||"USD"});case"xendit":return e.jsx(Nr,{...g,planPrice:Number(a.price),xenditApiKey:((ls=a.paymentMethods)==null?void 0:ls.xendit_api_key)||"",currency:((cs=a.paymentMethods)==null?void 0:cs.currency)||"PHP"});default:return null}};return N?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:p("Complete Payment")}),e.jsx(_,{variant:"outline",size:"sm",onClick:E,children:p("Back")})]}),W()]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:a.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[p(w)," ",p("subscription")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:(()=>{var g;return typeof window<"u"&&((g=window.appSettings)!=null&&g.formatCurrency)?window.appSettings.formatCurrency(l):l.toFixed(2)})()}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["/",p(w)]})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(K,{children:p("Select Payment Method")}),$.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:p("No payment methods available")}):e.jsx("div",{className:"space-y-2",children:$.map((g,Y)=>e.jsx(R,{className:`cursor-pointer transition-colors ${k===g.id?"border-primary bg-primary/5":"hover:border-gray-300"}`,onClick:()=>x(g.id),children:e.jsx(I,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-primary",children:g.icon}),e.jsx("span",{className:"font-medium",children:g.name}),k===g.id&&e.jsx(hs,{variant:"secondary",className:"ml-auto",children:p("Selected")})]})})},`${g.id}-${Y}`))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(K,{htmlFor:"coupon",children:[p("Coupon Code")," (",p("Optional"),")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(S,{id:"coupon",value:s,onChange:g=>i(g.target.value),placeholder:p("Enter coupon code"),className:"pr-10",disabled:!!o}),e.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),o?e.jsx(_,{type:"button",variant:"outline",onClick:y,children:p("Remove")}):e.jsx(_,{type:"button",variant:"outline",onClick:d,disabled:!s.trim()||n,children:n?e.jsx(D,{className:"h-4 w-4 animate-spin"}):p("Apply")})]}),o&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-green-700 font-medium",children:[p("Coupon Applied"),": ",o.code]}),e.jsxs("span",{className:"text-green-600",children:["-",o.type==="percentage"?`${o.value}%`:o.value]})]})})]}),e.jsx(R,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:p("Subtotal")}),e.jsx("span",{children:(()=>{var g;return typeof window<"u"&&((g=window.appSettings)!=null&&g.formatCurrency)?window.appSettings.formatCurrency(l):l.toFixed(2)})()})]}),o&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:p("Discount")}),e.jsxs("span",{children:["-",(()=>{var g;return typeof window<"u"&&((g=window.appSettings)!=null&&g.formatCurrency)?window.appSettings.formatCurrency(f):f.toFixed(2)})()]})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:p("Total")}),e.jsx("span",{children:(()=>{var g;return typeof window<"u"&&((g=window.appSettings)!=null&&g.formatCurrency)?window.appSettings.formatCurrency(c):c.toFixed(2)})()})]})})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:b,className:"flex-1",children:p("Cancel")}),e.jsxs(_,{onClick:T,disabled:$.length===0,className:"flex-1",children:[p("Pay")," ",(()=>{var g;return typeof window<"u"&&((g=window.appSettings)!=null&&g.formatCurrency)?window.appSettings.formatCurrency(c):c.toFixed(2)})()]})]})]})}function wr({isOpen:a,onClose:w,plan:m,billingCycle:h,paymentMethods:b}){const{t:p}=z(),k=()=>{w(),window.location.reload()},x=b.filter(s=>s.enabled);return e.jsx(fs,{open:a,onOpenChange:w,children:e.jsxs(js,{className:"max-w-md max-h-[90vh] flex flex-col",children:[e.jsx(ys,{className:"flex-shrink-0",children:e.jsx(bs,{children:p("Subscribe to {{planName}}",{planName:m.name})})}),e.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:e.jsx(vr,{plan:m,billingCycle:h,paymentMethods:x,onSuccess:k,onCancel:w})})]})})}function ya({plans:a,billingCycle:w="monthly",hasDefaultPlan:m,isAdmin:h=!1,currentPlan:b,userTrialUsed:p,paymentMethods:k=[],trialExpired:x=!1}){const{t:s}=z(),{flash:i}=Ns().props,{processing:o}=vs(),[t,n]=v.useState(a),[j,N]=v.useState(w),[u,l]=v.useState(!1),[f,c]=v.useState(null),[d,y]=v.useState(!1),[T,E]=v.useState(null),$=r=>{var P;if(typeof window<"u"&&((P=window.appSettings)!=null&&P.formatCurrency)){const G=typeof r=="number"?r:parseFloat(r)||0;return window.appSettings.formatCurrency(G)}return r||0};v.useEffect(()=>{n(a)},[a]),v.useEffect(()=>{i!=null&&i.error&&C.error(i.error),i!=null&&i.success&&C.success(i.success),x&&C.error(s("Your trial has expired. Please subscribe to continue using the service."))},[i,x]);const W=r=>{N(r),J.get(route("plans.index"),{billing_cycle:r},{preserveState:!0})},g=r=>{J.post(route("plans.request"),{plan_id:r,billing_cycle:j},{onSuccess:()=>{n(t.map(P=>P.id===r?{...P,has_pending_request:!0}:P))},onError:P=>{P.error&&C.error(P.error)}})},Y=r=>{J.post(route("plans.cancel-request"),{plan_id:r},{onSuccess:()=>{n(t.map(P=>P.id===r?{...P,has_pending_request:!1}:P))},onError:P=>{P.error&&C.error(P.error)}})},V=r=>{if(p){C.error(s("You have already used your free trial. Please subscribe to continue."));return}J.post(route("plans.trial"),{plan_id:r},{onSuccess:()=>{n(t.map(P=>P.id===r?{...P,is_current:!0,is_trial_available:!1}:{...P,is_trial_available:!1}))},onError:P=>{P.error&&C.error(P.error)}})},Z=async r=>{const P=t.find(G=>G.id===r);if(P){const G=a.find(se=>se.id===r);E({...P,yearly_price:(G==null?void 0:G.yearly_price)||P.price,paymentMethods:k}),y(!0)}},ae=r=>{const P=[];return((r==null?void 0:r.is_bank_enabled)===!0||(r==null?void 0:r.is_bank_enabled)==="1")&&P.push({id:"bank",name:s("Bank Transfer"),icon:e.jsx(Ds,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_stripe_enabled)===!0||(r==null?void 0:r.is_stripe_enabled)==="1")&&P.push({id:"stripe",name:s("Stripe"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paypal_enabled)===!0||(r==null?void 0:r.is_paypal_enabled)==="1")&&P.push({id:"paypal",name:s("PayPal"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_razorpay_enabled)===!0||(r==null?void 0:r.is_razorpay_enabled)==="1")&&P.push({id:"razorpay",name:s("Razorpay"),icon:e.jsx(oe,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_mercadopago_enabled)===!0||(r==null?void 0:r.is_mercadopago_enabled)==="1")&&(r!=null&&r.mercadopago_access_token)&&P.push({id:"mercadopago",name:s("MercadoPago"),icon:e.jsx(me,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paystack_enabled)===!0||(r==null?void 0:r.is_paystack_enabled)==="1")&&P.push({id:"paystack",name:s("Paystack"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_flutterwave_enabled)===!0||(r==null?void 0:r.is_flutterwave_enabled)==="1")&&P.push({id:"flutterwave",name:s("Flutterwave"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paytabs_enabled)===!0||(r==null?void 0:r.is_paytabs_enabled)==="1")&&P.push({id:"paytabs",name:s("PayTabs"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_skrill_enabled)===!0||(r==null?void 0:r.is_skrill_enabled)==="1")&&P.push({id:"skrill",name:s("Skrill"),icon:e.jsx(me,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_coingate_enabled)===!0||(r==null?void 0:r.is_coingate_enabled)==="1")&&P.push({id:"coingate",name:s("CoinGate"),icon:e.jsx(ue,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_payfast_enabled)===!0||(r==null?void 0:r.is_payfast_enabled)==="1")&&P.push({id:"payfast",name:s("Payfast"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_tap_enabled)===!0||(r==null?void 0:r.is_tap_enabled)==="1")&&P.push({id:"tap",name:s("Tap"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_xendit_enabled)===!0||(r==null?void 0:r.is_xendit_enabled)==="1")&&P.push({id:"xendit",name:s("Xendit"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paytr_enabled)===!0||(r==null?void 0:r.is_paytr_enabled)==="1")&&P.push({id:"paytr",name:s("PayTR"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_mollie_enabled)===!0||(r==null?void 0:r.is_mollie_enabled)==="1")&&P.push({id:"mollie",name:s("Mollie"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_toyyibpay_enabled)===!0||(r==null?void 0:r.is_toyyibpay_enabled)==="1")&&P.push({id:"toyyibpay",name:s("toyyibPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_cashfree_enabled)===!0||(r==null?void 0:r.is_cashfree_enabled)==="1")&&P.push({id:"cashfree",name:s("Cashfree"),icon:e.jsx(oe,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_khalti_enabled)===!0||(r==null?void 0:r.is_khalti_enabled)==="1")&&P.push({id:"khalti",name:s("Khalti"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_iyzipay_enabled)===!0||(r==null?void 0:r.is_iyzipay_enabled)==="1")&&P.push({id:"iyzipay",name:s("Iyzipay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_benefit_enabled)===!0||(r==null?void 0:r.is_benefit_enabled)==="1")&&P.push({id:"benefit",name:s("Benefit"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_ozow_enabled)===!0||(r==null?void 0:r.is_ozow_enabled)==="1")&&P.push({id:"ozow",name:s("Ozow"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_easebuzz_enabled)===!0||(r==null?void 0:r.is_easebuzz_enabled)==="1")&&P.push({id:"easebuzz",name:s("Easebuzz"),icon:e.jsx(oe,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_authorizenet_enabled)===!0||(r==null?void 0:r.is_authorizenet_enabled)==="1")&&P.push({id:"authorizenet",name:s("AuthorizeNet"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_fedapay_enabled)===!0||(r==null?void 0:r.is_fedapay_enabled)==="1")&&P.push({id:"fedapay",name:s("FedaPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_payhere_enabled)===!0||(r==null?void 0:r.is_payhere_enabled)==="1")&&P.push({id:"payhere",name:s("PayHere"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_cinetpay_enabled)===!0||(r==null?void 0:r.is_cinetpay_enabled)==="1")&&P.push({id:"cinetpay",name:s("CinetPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paiement_enabled)===!0||(r==null?void 0:r.is_paiement_enabled)==="1")&&P.push({id:"paiement",name:s("Paiement Pro"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_nepalste_enabled)===!0||(r==null?void 0:r.is_nepalste_enabled)==="1")&&P.push({id:"nepalste",name:s("Nepalste"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_yookassa_enabled)===!0||(r==null?void 0:r.is_yookassa_enabled)==="1")&&P.push({id:"yookassa",name:s("YooKassa"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_aamarpay_enabled)===!0||(r==null?void 0:r.is_aamarpay_enabled)==="1")&&P.push({id:"aamarpay",name:s("Aamarpay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_midtrans_enabled)===!0||(r==null?void 0:r.is_midtrans_enabled)==="1")&&P.push({id:"midtrans",name:s("Midtrans"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paymentwall_enabled)===!0||(r==null?void 0:r.is_paymentwall_enabled)==="1")&&P.push({id:"paymentwall",name:s("PaymentWall"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_sspay_enabled)===!0||(r==null?void 0:r.is_sspay_enabled)==="1")&&P.push({id:"sspay",name:s("SSPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),P},M=r=>b&&b.id===r.id&&b.expires_at&&new Date(b.expires_at)>new Date?e.jsxs(_,{disabled:!0,className:"w-full bg-green-100 text-green-800 border-green-200",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),s("Already Subscribed")]}):r.is_current?e.jsxs(_,{disabled:!0,className:"w-full",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),s("Current Plan")]}):r.is_trial_available&&!p&&!x?e.jsxs("div",{className:"space-y-2",children:[e.jsxs(_,{onClick:()=>V(r.id),disabled:o,variant:"outline",className:"w-full",children:[e.jsx(Bs,{className:"h-4 w-4 mr-2"}),s("Start {{days}} Day Trial",{days:r.trial_days})]}),e.jsx(_,{onClick:()=>Z(r.id),disabled:o,className:"w-full",children:s("Subscribe Now")})]}):e.jsxs("div",{className:"space-y-2",children:[r.has_pending_request?e.jsxs(_,{onClick:()=>Y(r.id),disabled:o,variant:"outline",className:"w-full border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",children:[e.jsx(os,{className:"h-4 w-4 mr-2"}),s("Cancel Request")]}):e.jsxs(_,{onClick:()=>g(r.id),disabled:o,variant:"outline",className:"w-full",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),s("Request Plan")]}),e.jsx(_,{onClick:()=>Z(r.id),disabled:o||b&&b.id===r.id&&b.expires_at&&new Date(b.expires_at)>new Date,className:"w-full",children:b&&b.id===r.id&&b.expires_at&&new Date(b.expires_at)>new Date?s("Already Subscribed"):s("Subscribe Now")})]}),X=(r,P)=>r.features.includes(P),U=r=>{J.post(route("plans.toggle-status",r),{},{preserveState:!0,onSuccess:()=>{n(t.map(P=>P.id===r?{...P,status:!P.status}:P))}})},ee=r=>{c(r),l(!0)},te=()=>{f&&J.delete(route("plans.destroy",f.id),{onSuccess:()=>{l(!1),c(null)}})},ne=["AI Integration"],Q={workspaces:e.jsx(Rs,{className:"h-5 w-5"}),members:e.jsx(de,{className:"h-5 w-5"}),clients:e.jsx(de,{className:"h-5 w-5"}),managers:e.jsx(de,{className:"h-5 w-5"}),projects_per_workspace:e.jsx(gs,{className:"h-5 w-5"}),storage:e.jsx(qs,{className:"h-5 w-5"})},le=[{title:s("Dashboard"),href:route("dashboard")},{title:s("Plans")}];return e.jsx(ps,{title:s("Plans"),description:s("Manage subscription plans for your customers"),url:"/plans",breadcrumbs:le,children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold tracking-tight mb-2",children:s(h?"Subscription Plans":"Choose Your Plan")}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:s(h?"Create and manage subscription plans to offer different service tiers to your customers.":"Select the perfect plan for your business needs")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx(Ps,{value:j,onValueChange:r=>W(r),className:"w-full sm:w-[400px]",children:e.jsxs(Cs,{className:"grid w-full grid-cols-2",children:[e.jsx(ds,{value:"monthly",children:s("Monthly")}),e.jsxs(ds,{value:"yearly",children:[s("Yearly"),e.jsx(hs,{variant:"outline",className:"ml-2 bg-green-100 text-green-800 border-green-200",children:s("Save 20%")})]})]})}),h&&e.jsxs(_,{className:"w-full sm:w-auto",onClick:()=>J.get(route("plans.create")),children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),s("Add Plan")]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(r=>e.jsxs("div",{className:`group relative h-full flex flex-col ${r.recommended?"z-10 scale-[1.02]":""}`,children:[e.jsxs("div",{className:`
                absolute inset-0 rounded-2xl 
                ${r.recommended?"bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border-primary/30":"bg-gradient-to-br from-gray-100/80 via-gray-50/50 to-transparent border-gray-200/80"} 
                border shadow-lg transition-all duration-300 
                group-hover:shadow-xl group-hover:shadow-primary/5
                overflow-hidden
              `,children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full -mr-16 -mt-16 opacity-70"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-primary/10 to-transparent rounded-full -ml-12 -mb-12 opacity-50"})]}),r.recommended&&e.jsx("div",{className:"absolute -top-4 left-0 right-0 flex justify-center z-20",children:e.jsxs("div",{className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-full shadow-lg flex items-center gap-1.5 text-sm font-medium",children:[e.jsx(is,{className:"h-4 w-4"}),s("Recommended")]})}),h&&e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[r.is_default&&e.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:s("Default")}),e.jsxs("div",{className:`
                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium
                    ${r.status?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}
                  `,children:[e.jsx("span",{className:`
                      w-2 h-2 rounded-full 
                      ${r.status?"bg-emerald-500":"bg-red-500"}
                    `}),r.status?s("Active"):s("Inactive")]})]}),!h&&r.is_current&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:[e.jsx(ie,{className:"h-3 w-3"}),s("Current")]})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full p-6 pt-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:`
                    text-lg font-bold mb-2 
                    ${r.recommended?"text-primary":""}
                  `,children:r.name}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-3",children:[e.jsx("span",{className:`
                      text-3xl font-extrabold 
                      ${r.recommended?"text-primary":""}
                    `,children:$(r.price)}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["/",s(r.duration.toLowerCase())]})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:r.description}),r.trial_days>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-primary",children:[e.jsx(is,{className:"h-3.5 w-3.5"}),s("{{days}} days free trial",{days:r.trial_days})]})]}),e.jsxs("div",{className:"relative flex items-center my-4",children:[e.jsx("div",{className:"flex-grow border-t border-gray-200"}),e.jsx("div",{className:"mx-3 bg-primary/10 text-primary p-1.5 rounded-full",children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),e.jsxs("div",{className:"mb-6 flex-1",children:[e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:s("Features")}),e.jsx("ul",{className:"space-y-2.5",children:ne.map((P,G)=>{const se=X(r,P);return e.jsxs("li",{className:"flex items-center gap-3",children:[se?e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:e.jsx(us,{className:"h-3.5 w-3.5"})}):e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center",children:e.jsx(os,{className:"h-3.5 w-3.5"})}),e.jsx("span",{className:`text-sm ${se?"font-medium":"text-muted-foreground"}`,children:s(P)})]},G)})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:s("Usage Limits")}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-blue-100 text-blue-600",children:Q.workspaces}),e.jsx("div",{className:"text-xl font-bold text-blue-700",children:r.limits.workspaces})]}),e.jsx("div",{className:"relative text-xs font-medium text-blue-600 uppercase tracking-wide",children:s("Workspaces")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-emerald-100 text-emerald-600",children:Q.members}),e.jsx("div",{className:"text-xl font-bold text-emerald-700",children:r.limits.users_per_workspace})]}),e.jsx("div",{className:"relative text-xs font-medium text-emerald-600 uppercase tracking-wide",children:s("Users/Workspace")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-amber-100 text-amber-600",children:Q.clients}),e.jsx("div",{className:"text-xl font-bold text-amber-700",children:r.limits.clients_per_workspace})]}),e.jsx("div",{className:"relative text-xs font-medium text-amber-600 uppercase tracking-wide",children:s("Clients/Workspace")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-purple-100 text-purple-600",children:Q.managers}),e.jsx("div",{className:"text-xl font-bold text-purple-700",children:r.limits.managers_per_workspace})]}),e.jsx("div",{className:"relative text-xs font-medium text-purple-600 uppercase tracking-wide",children:s("Managers/Workspace")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors col-span-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-indigo-100 text-indigo-600",children:Q.projects_per_workspace}),e.jsx("div",{className:"text-xl font-bold text-indigo-700",children:r.limits.projects_per_workspace}),e.jsx("div",{className:"text-xs font-medium text-indigo-600 uppercase tracking-wide ml-auto",children:s("Projects per Workspace")})]})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors col-span-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-teal-100 text-teal-600",children:Q.storage}),e.jsx("div",{className:"text-xl font-bold text-teal-700",children:r.limits.storage}),e.jsx("div",{className:"text-xs font-medium text-teal-600 uppercase tracking-wide ml-auto",children:s("Storage")})]})]})]})]}),e.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200",children:h?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_s,{checked:r.status,onCheckedChange:()=>U(r.id),className:r.status?"data-[state=checked]:bg-primary":""}),e.jsx("span",{className:"text-sm text-muted-foreground",children:r.status?s("Active"):s("Inactive")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-primary hover:text-primary",title:s("Edit"),onClick:()=>J.get(route("plans.edit",r.id)),children:e.jsx(Os,{className:"h-4 w-4"})}),!r.is_default&&e.jsx(_,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-red-400 hover:text-red-600",title:s("Delete"),onClick:()=>ee(r),children:e.jsx(Is,{className:"h-4 w-4"})})]})]}):M(r)})]})]},r.id))}),h&&e.jsx(ks,{isOpen:u,onClose:()=>l(!1),onConfirm:te,itemName:(f==null?void 0:f.name)||"",entityName:"plan"}),!h&&T&&e.jsx(wr,{isOpen:d,onClose:()=>{y(!1),E(null)},plan:T,billingCycle:j,paymentMethods:ae(T.paymentMethods)})]})})}export{ya as default};
