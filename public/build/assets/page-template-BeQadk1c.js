import{j as e,r as x,t as $e,S as Pe,d as Re,P as Y,v as De,w as je}from"./ui-Ps9nvBG1.js";import{J as M,O as Fe,Q as Be,u as D,X as Oe,e as R,I as te,B as S,R as K,t as F,K as I,U as X,V as ze,W as We,Y as Ge,Z as qe,a0 as Ve,a1 as se,a2 as ae,$ as B,a3 as He,a4 as ne,a5 as re,a6 as Ue,s as we,a7 as Ke,a8 as Ze,a9 as Je,aa as Ye,h as m,G as Xe,F as Qe,w as T,f as O,D as et,l as tt,n as st,o as at,p as nt,H as rt,T as it,i as ot,j as lt,k as ct,ab as ie,v as dt,L as ht}from"./app-BTt_gkO3.js";import{T as oe}from"./textarea-DPiv_-Qc.js";import{S as le,a as ce,b as de,c as he,d as q}from"./select-z0EzYxFC.js";import{R as ut}from"./react-country-flag.esm-2v5ikZ5v.js";import{l as pt}from"./language-BbwPiY59.js";import{L as mt}from"./loader-circle-LF6za7Wc.js";import{C as ue,T as xt}from"./trending-up-BkxnV74k.js";import{C as pe,L as ft}from"./language-switcher-AzCP_3T2.js";import{C as U}from"./chevron-up-CaRG6751.js";import{B as z}from"./building-2-CVOsE0mA.js";import{S as gt}from"./square-check-big-B29hCoNu.js";import{B as vt}from"./bug-DP5pb0Nw.js";import{C as ye}from"./clock-NAV_RQL_.js";import{C as jt}from"./credit-card-BwPrmecT.js";import{D as wt}from"./dollar-sign-CY6xo33T.js";import{M as me}from"./mail-CZ8KgBhk.js";import{M as yt}from"./message-square-DGoN5Yg5.js";import{G as bt}from"./globe-BYIVGjA8.js";import{S as Nt}from"./settings-CG31wyPI.js";import{D as be,a as Ne,b as ke,e as kt,d as xe,f as _t,c as Z}from"./dropdown-menu-CvJwe1WI.js";import{U as St}from"./user-DZ3jVi18.js";import{T as Ct}from"./triangle-alert-BuDHDWvi.js";import{u as Mt}from"./use-favicon-vjALIuby.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Lt=M("Bell",At);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Tt=M("Brain",It);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],V=M("ChevronRight",Et);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Pt=M("FolderOpen",$t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Dt=M("LayoutGrid",Rt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],H=M("LogOut",Ft);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ot=M("Receipt",Bt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fe=M("Sparkles",zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Gt=M("Ticket",Wt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Vt=M("Video",qt);function Ht({variant:t="header",children:n,...a}){return t==="sidebar"?e.jsx(Fe,{...a,children:n}):e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...a,children:n})}function Ut(t,n){const{registerModal:a,unregisterModal:o,getZIndex:s}=Be(),[i]=x.useState(()=>t),[g,u]=x.useState(!1),v=n!==void 0?n:g;x.useEffect(()=>(v?a(i):o(i),()=>o(i)),[v,i,a,o]);const w=s(i);return{modalId:i,isOpen:v,setIsOpen:u,zIndex:w,open:()=>u(!0),close:()=>u(!1),toggle:()=>u(y=>!y)}}function Kt({isOpen:t,onClose:n,onGenerate:a,title:o="AI Content Generator",placeholder:s="Describe what you want to generate..."}){const{t:i}=D(),{zIndex:g}=Ut("chatgpt-modal",t),[u,v]=x.useState(""),[w,y]=x.useState(""),[d,r]=x.useState(!1),[c,f]=x.useState("en"),[k,j]=x.useState("medium"),[_,C]=x.useState(1),[A,L]=x.useState(150),[E,h]=x.useState(""),[b,p]=x.useState(!1),$=async()=>{var N;if(!u.trim()){F.error(i("Please enter a prompt"));return}r(!0);try{const P=await fetch(route("chatgpt.generate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((N=document.querySelector('meta[name="csrf-token"]'))==null?void 0:N.getAttribute("content"))||""},body:JSON.stringify({prompt:u,language:c,creativity:k,num_results:_,max_length:A})}),G=await P.json();P.ok?y(G.content):F.error(G.message||i("Failed to generate content"))}catch{F.error(i("Error connecting to AI service"))}finally{r(!1)}},W=()=>{w&&(a(w),l())},l=()=>{v(""),y(""),h(""),p(!1),n()},ee=async N=>{try{await navigator.clipboard.writeText(N),p(!0),F.success(i("Copied to clipboard")),setTimeout(()=>p(!1),2e3)}catch{F.error(i("Failed to copy"))}},Ie=()=>{const N=document.getElementById("generated-content");if(N){const P=N.selectionStart,G=N.selectionEnd,Ee=N.value.substring(P,G);h(Ee)}};if(!t)return null;const Te=e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center",style:{zIndex:g},children:[e.jsx("div",{className:"fixed inset-0 bg-black/50"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 pointer-events-auto border",style:{zIndex:g+1},children:[e.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5 text-blue-500"}),i(o)]}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(Oe,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:i("Language")}),e.jsxs(le,{value:c,onValueChange:f,children:[e.jsx(ce,{children:e.jsx(de,{})}),e.jsx(he,{style:{zIndex:g+10},children:pt.map(N=>e.jsxs(q,{value:N.code,children:[e.jsx(ut,{countryCode:N.countryCode,svg:!0,style:{width:"1em",height:"1em",marginRight:"8px"}}),N.name]},N.code))})]})]}),e.jsxs("div",{children:[e.jsx(R,{children:i("AI Creativity")}),e.jsxs(le,{value:k,onValueChange:j,children:[e.jsx(ce,{children:e.jsx(de,{})}),e.jsxs(he,{style:{zIndex:g+10},children:[e.jsxs(q,{value:"low",children:[i("Low")," (0.3)"]}),e.jsxs(q,{value:"medium",children:[i("Medium")," (0.7)"]}),e.jsxs(q,{value:"high",children:[i("High")," (0.9)"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:i("Number of Results")}),e.jsx(te,{type:"number",value:_,onChange:N=>C(Number(N.target.value)),min:1,max:5})]}),e.jsxs("div",{children:[e.jsx(R,{children:i("Max Result Length")}),e.jsx(te,{type:"number",value:A,onChange:N=>L(Number(N.target.value)),min:50,max:500})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"prompt",children:i("Add Text")}),e.jsx(oe,{id:"prompt",value:u,onChange:N=>v(N.target.value),placeholder:i(s),rows:3,className:"mt-1"})]}),e.jsx(S,{onClick:$,disabled:d||!u.trim(),className:"w-full",children:d?e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}),i("Generating...")]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),i("Generate")]})}),w&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(R,{htmlFor:"generated",children:i("Output Text")}),e.jsxs("div",{className:"flex gap-2",children:[E&&e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>ee(E),children:[b?e.jsx(K,{className:"h-4 w-4"}):e.jsx(ue,{className:"h-4 w-4"}),i("Copy Selected")]}),e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>ee(w),children:[b?e.jsx(K,{className:"h-4 w-4"}):e.jsx(ue,{className:"h-4 w-4"}),i("Copy Text")]})]})]}),e.jsx(oe,{id:"generated-content",value:w,onChange:N=>y(N.target.value),onSelect:Ie,rows:6,className:"mt-1"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(S,{onClick:W,className:"flex-1",children:i("Use This Content")}),e.jsx(S,{variant:"outline",onClick:$,disabled:d,children:i("Regenerate")})]})]})]})]})]});return typeof window<"u"?$e.createPortal(Te,document.body):null}function J(){var f,k,j,_,C,A,L,E,h,b;const{auth:t,isSaasMode:n,globalSettings:a}=I().props,[o,s]=x.useState(!1),[i,g]=x.useState(""),v=(((f=t==null?void 0:t.roles)==null?void 0:f[0])||((k=t==null?void 0:t.user)==null?void 0:k.type))==="superadmin"||((j=t==null?void 0:t.user)==null?void 0:j.type)==="superadmin",w=((_=t==null?void 0:t.user)==null?void 0:_.type)==="company";let y=!1;if(n)if(v)y=!0;else if(w)y=((C=t==null?void 0:t.user)==null?void 0:C.plan_is_active)===1&&((A=t==null?void 0:t.user)==null?void 0:A.plan)&&((E=(L=t==null?void 0:t.user)==null?void 0:L.plan)==null?void 0:E.enable_chatgpt)==="on";else{const p=(h=t==null?void 0:t.user)==null?void 0:h.creator;y=(p==null?void 0:p.plan_is_active)===1&&(p==null?void 0:p.plan)&&((b=p==null?void 0:p.plan)==null?void 0:b.enable_chatgpt)==="on"}else y=(a==null?void 0:a.chatgptKey)&&a.chatgptKey.length>0;if(!y)return null;x.useEffect(()=>{},[o]);const d=p=>{g(p)},r=()=>{s(!0)},c=()=>{s(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-6 right-6 z-[9999]",onClickCapture:p=>{p.preventDefault(),p.stopPropagation(),p.nativeEvent.stopImmediatePropagation(),r()},onMouseDownCapture:p=>{p.preventDefault(),p.stopPropagation()},onClick:p=>{p.preventDefault(),p.stopPropagation()},children:e.jsx(S,{onClick:p=>{p.preventDefault(),p.stopPropagation(),r()},className:"h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-shadow",size:"lg",children:e.jsx(Tt,{className:"h-6 w-6"})})}),e.jsx(Kt,{isOpen:o,onClose:c,onGenerate:d,title:"AI Assistant",placeholder:"What would you like me to help you generate?"})]})}function Zt({children:t,variant:n="header"}){const[a,o]=x.useState(()=>typeof window<"u"?localStorage.getItem("sidebar")!=="false":!0),s=u=>{o(u),typeof window<"u"&&localStorage.setItem("sidebar",String(u))};if(n==="header")return e.jsxs("div",{className:"flex min-h-screen w-full flex-col",children:[t,e.jsx(J,{}),e.jsx(pe,{})]});const{position:i,isRtl:g}=X();return typeof window<"u"&&["ar","he"].includes(document.documentElement.lang||"en"),e.jsx(ze,{defaultOpen:a,open:a,onOpenChange:s,children:e.jsxs("div",{className:"flex w-full",children:[t,e.jsx(J,{}),e.jsx(pe,{})]})})}const ge="nav_expanded_items";function Jt({items:t=[],position:n}){const{t:a}=D(),o=I(),{state:s}=We(),[i,g]=x.useState({});x.useEffect(()=>{const r={},c=(f,k)=>{f.forEach(j=>{const _=w(j.href),C=j.children&&y(j.children);k&&(_||C)&&(r[k]=!0),j.children&&(_||C)&&(r[j.title]=!0,c(j.children,j.title)),j.children&&u(j.children,1,r)})};c(t),g(r);try{localStorage.setItem(ge,JSON.stringify(r))}catch(f){console.error("Error saving navigation state:",f)}},[o.url]);const u=(r,c,f)=>{r.forEach(k=>{const j=`${c}-${k.title}`,_=w(k.href),C=k.children&&y(k.children);k.children&&(_||C)&&(f[j]=!0,u(k.children,c+1,f))})},v=r=>{const c={...i,[r]:!i[r]};g(c);try{localStorage.setItem(ge,JSON.stringify(c))}catch(f){console.error("Error saving navigation state:",f)}},w=r=>{if(!r)return!1;const c=r.startsWith("http")?new URL(r).pathname:r,f=o.url;return f===c||f.startsWith(c+"/")},y=r=>r?r.some(c=>w(c.href)||y(c.children)):!1,d=(r,c=1)=>e.jsx(He,{children:r.map(f=>e.jsx("div",{children:f.children?e.jsxs(e.Fragment,{children:[e.jsx(ne,{children:e.jsx(re,{isActive:y(f.children),onClick:()=>v(`${c}-${f.title}`),children:e.jsxs("div",{className:`flex items-center gap-2 ${n==="right"?"justify-end text-right":"justify-start text-left"}`,children:[e.jsx("span",{children:f.title}),s!=="collapsed"&&(i[`${c}-${f.title}`]?e.jsx(U,{className:"h-3 w-3 ml-auto"}):e.jsx(V,{className:"h-3 w-3 ml-auto"}))]})})}),i[`${c}-${f.title}`]&&d(f.children,c+1)]}):e.jsx(ne,{children:e.jsx(re,{asChild:!0,isActive:w(f.href),children:e.jsx(B,{href:f.href||"#",prefetch:!0,target:f.target,className:`flex items-center gap-2 ${n==="right"?"justify-end text-right":"justify-start text-left"}`,children:e.jsx("span",{children:f.title})})})})},f.title))});return e.jsxs(Ge,{className:"px-1.5 py-0",children:[e.jsx(qe,{className:`flex w-full text-xs ${n==="right"?"justify-end":"justify-start"}`,children:a("Platform")}),e.jsx(Ve,{children:t.map(r=>e.jsx("div",{children:r.children?e.jsxs(e.Fragment,{children:[e.jsx(se,{children:e.jsx(ae,{isActive:y(r.children),tooltip:{children:r.title},onClick:()=>v(r.title),children:e.jsx("div",{className:`flex items-center gap-2 w-full ${n==="right"?"justify-end text-right":"justify-start text-left"}`,children:n==="right"?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:s!=="collapsed"?r.title:""}),r.icon&&e.jsx(r.icon,{className:"h-4 w-4"}),s!=="collapsed"&&(i[r.title]?e.jsx(U,{className:"h-3 w-3"}):e.jsx(V,{className:"h-3 w-3"}))]}):e.jsxs(e.Fragment,{children:[r.icon&&e.jsx(r.icon,{className:"h-4 w-4"}),s!=="collapsed"&&e.jsx("span",{children:r.title}),s!=="collapsed"&&(i[r.title]?e.jsx(U,{className:"h-3 w-3 ml-auto"}):e.jsx(V,{className:"h-3 w-3 ml-auto"}))]})})})}),s!=="collapsed"&&i[r.title]&&d(r.children)]}):e.jsx(se,{children:e.jsx(ae,{asChild:!0,isActive:w(r.href),tooltip:{children:r.title},children:r.target==="_blank"?e.jsx("a",{href:r.href||"#",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 ${n==="right"?"justify-end text-right":"justify-start text-left"}`,children:n==="right"?e.jsxs(e.Fragment,{children:[s!=="collapsed"&&e.jsx("span",{children:r.title}),r.icon&&e.jsx(r.icon,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:[r.icon&&e.jsx(r.icon,{className:"h-4 w-4"}),s!=="collapsed"&&e.jsx("span",{children:r.title})]})}):e.jsx(B,{href:r.href||"#",prefetch:!0,className:`flex items-center gap-2 ${n==="right"?"justify-end text-right":"justify-start text-left"}`,children:n==="right"?e.jsxs(e.Fragment,{children:[s!=="collapsed"&&e.jsx("span",{children:r.title}),r.icon&&e.jsx(r.icon,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:[r.icon&&e.jsx(r.icon,{className:"h-4 w-4"}),s!=="collapsed"&&e.jsx("span",{children:r.title})]})})})})},r.title))})]})}function Yt(){const{t,i18n:n}=D(),{auth:a,isSaasMode:o}=I().props,s=(a==null?void 0:a.permissions)||[],i=["ar","he"].includes(n.language),u=(()=>{var p,$,W;const h=[];if(m(s,"dashboard_view")&&h.push({title:t("Dashboard"),href:route("dashboard"),icon:Dt}),m(s,"company_view_any")&&h.push({title:t("Companies"),href:route("companies.index"),icon:z}),m(s,"workspace_view_any")&&h.push({title:t("Workspaces"),href:route("workspaces.index"),icon:z}),m(s,"project_view_any")&&h.push({title:t("Projects"),href:route("projects.index"),icon:Pt}),m(s,"task_view_any")){const l=[];l.push({title:t("All Tasks"),href:route("tasks.index")}),m(s,"task_manage_stages")&&l.push({title:t("Task Stages"),href:route("task-stages.index")}),h.push({title:t("Tasks"),icon:gt,children:l.length>0?l:void 0,href:l.length===0?route("tasks.index"):void 0})}if(m(s,"bug_view_any")){const l=[];l.push({title:t("All Bugs"),href:route("bugs.index")}),m(s,"bug_manage_statuses")&&l.push({title:t("Bug Statuses"),href:route("bug-statuses.index")}),h.push({title:t("Bugs"),icon:vt,children:l.length>0?l:void 0,href:l.length===0?route("bugs.index"):void 0})}if(m(s,"timesheet_view_any")){const l=[];l.push({title:t("My Timesheets"),href:route("timesheets.index")}),l.push({title:t("Daily View"),href:route("timesheets.daily-view")}),l.push({title:t("Weekly View"),href:route("timesheets.weekly-view")}),l.push({title:t("Monthly View"),href:route("timesheets.monthly-view")}),l.push({title:t("Calendar View"),href:route("timesheets.calendar-view")}),m(s,"timesheet_approve")&&l.push({title:t("Approvals"),href:route("timesheet-approvals.index")}),m(s,"timesheet_generate_reports")&&l.push({title:t("Reports"),href:route("timesheet-reports.index")}),h.push({title:t("Timesheets"),icon:ye,children:l.length>0?l:void 0,href:l.length===0?route("timesheets.index"):void 0})}if(m(s,"zoom_meeting_view_any")&&h.push({title:t("Zoom Meetings"),href:route("zoom-meetings.index"),icon:Vt}),m(s,"budget_view_any")||m(s,"expense_view_any")){const l=[];m(s,"budget_dashboard_view")&&l.push({title:t("Budget Dashboard"),href:route("budgets.dashboard")}),m(s,"budget_view_any")&&l.push({title:t("Budgets"),href:route("budgets.index")}),m(s,"expense_view_any")&&l.push({title:t("Expenses"),href:route("expenses.index")}),m(s,"expense_approval_approve")&&l.push({title:t("Expense Approvals"),href:route("expense-approvals.index")}),h.push({title:t("Budget & Expenses"),icon:Ot,children:l.length>0?l:void 0,href:l.length===1?l[0].href:void 0})}if(m(s,"invoice_view_any")&&h.push({title:t("Invoices"),href:route("invoices.index"),icon:Xe}),o){const l=[];m(s,"plan_view_any")&&l.push({title:t("Plans"),href:route("plans.index")}),m(s,"plan_manage_requests")&&l.push({title:t("Plan Requests"),href:route("plan-requests.index")}),m(s,"plan_manage_orders")&&l.push({title:t("Plan Orders"),href:route("plan-orders.index")}),m(s,"plan_view_my_requests")&&((p=a==null?void 0:a.user)==null?void 0:p.type)!=="superadmin"&&l.push({title:t("My Plan Requests"),href:route("my-plan-requests.index")}),m(s,"plan_view_my_orders")&&(($=a==null?void 0:a.user)==null?void 0:$.type)!=="superadmin"&&l.push({title:t("My Plan Orders"),href:route("my-plan-orders.index")}),l.length>0&&h.push({title:t("Plans"),icon:jt,children:l.length>1?l:void 0,href:l.length===1?l[0].href:void 0}),m(s,"coupon_view_any")&&h.push({title:t("Coupons"),href:route("coupons.index"),icon:Gt})}m(s,"currency_view_any")&&h.push({title:t("Currencies"),href:route("currencies.index"),icon:wt}),m(s,"newsletter_view_any")&&h.push({title:t("Newsletters"),href:route("newsletters.index"),icon:me}),m(s,"contact_view_any")&&h.push({title:t("Contacts"),href:route("contacts.index"),icon:yt});const b=[];if(m(s,"landing_page_manage")&&b.push({title:t("Landing Page"),href:route("landing-page")}),m(s,"custom_page_view_any")&&b.push({title:t("Custom Pages"),href:route("landing-page.custom-pages.index")}),b.length>0&&h.push({title:t("Landing Page"),icon:bt,children:b.length>1?b:void 0,href:b.length===1?b[0].href:void 0}),m(s,"media_view_any")&&h.push({title:t("Media Library"),href:route("media-library"),icon:Qe}),m(s,"notification_template_view_any")&&((W=a==null?void 0:a.user)==null?void 0:W.type)!=="superadmin"&&h.push({title:"Notification Templates",href:route("notification-templates.index"),icon:Lt}),m(s,"view-analytics")){const l=[];m(s,"view-timesheet-reports")&&l.push({title:t("Timesheet Reports"),href:route("timesheet-reports.index")}),l.length>0&&h.push({title:t("Analytics & Reports"),icon:xt,children:l})}return m(s,"email_template_view_any")&&h.push({title:t("Email Templates"),href:route("email-templates.index"),icon:me}),m(s,"settings_view")&&h.push({title:t("Settings"),href:route("settings"),icon:Nt}),h})(),{position:v,isRtl:w}=X(),{variant:y,collapsible:d,style:r}=Ue(),c=i?"right":v,{logoLight:f,logoDark:k,favicon:j,updateBrandSettings:_}=we(),[C,A]=x.useState({});x.useEffect(()=>{A(r==="colored"?{backgroundColor:"var(--primary)",color:"white"}:r==="gradient"?{background:"linear-gradient(to bottom, var(--primary), color-mix(in srgb, var(--primary), transparent 20%))",color:"white"}:{})},[r]);const L=u,E=()=>{if(L.length===0)return route("dashboard");const h=L[0];return h.href?h.href:h.children&&h.children.length>0&&h.children[0].href||route("dashboard")};return e.jsxs(Ke,{side:c,collapsible:d,variant:y,className:r!=="plain"?"sidebar-custom-style":"",children:[e.jsx(Ze,{className:r!=="plain"?"sidebar-styled":"",style:C,children:e.jsx("div",{className:"flex justify-center items-center p-2",children:e.jsxs(B,{href:E(),prefetch:!0,className:"flex items-center justify-center",children:[e.jsx("div",{className:"h-8 group-data-[collapsible=icon]:hidden flex items-center",children:(()=>{const h=document.documentElement.classList.contains("dark"),b=h?f:k,p=b?b.startsWith("http")?b:b.startsWith("/storage/")?`${window.location.origin}${b}`:b.startsWith("/")?`${window.location.origin}${b}`:b:"";return p?e.jsx("img",{src:p,alt:"Logo",className:"h-8 w-auto max-w-[120px] transition-all duration-200",onError:()=>_({[h?"logoLight":"logoDark"]:""})},`${b}-${Date.now()}`):e.jsx("div",{className:"h-8 text-inherit font-semibold flex items-center text-lg tracking-tight",children:"WorkDo"})})()}),e.jsx("div",{className:"h-8 w-8 hidden group-data-[collapsible=icon]:block",children:(()=>{const h=j?j.startsWith("http")?j:j.startsWith("/storage/")?`${window.location.origin}${j}`:j.startsWith("/")?`${window.location.origin}${j}`:j:"";return h?e.jsx("img",{src:h,alt:"Icon",className:"h-8 w-8 transition-all duration-200",onError:()=>_({favicon:""})},`${j}-${Date.now()}`):e.jsx("div",{className:"h-8 w-8 bg-primary text-white rounded flex items-center justify-center font-bold shadow-sm",children:"W"})})()})]})})}),e.jsx(Je,{style:C,className:r!=="plain"?"sidebar-styled":"",children:e.jsx(Jt,{items:L,position:c})}),e.jsx(Ye,{})]},`sidebar-${c}-${w}`)}function Xt({...t}){return e.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function Qt({className:t,...n}){return e.jsx("ol",{"data-slot":"breadcrumb-list",className:T("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...n})}function es({className:t,...n}){return e.jsx("li",{"data-slot":"breadcrumb-item",className:T("inline-flex items-center gap-1.5",t),...n})}function ts({asChild:t,className:n,...a}){const o=t?Pe:"a";return e.jsx(o,{"data-slot":"breadcrumb-link",className:T("hover:text-foreground transition-colors",n),...a})}function ss({className:t,...n}){return e.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:T("text-foreground font-normal",t),...n})}function as({children:t,className:n,...a}){return e.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:T("[&>svg]:size-3.5",n),...a,children:t??e.jsx(V,{})})}function ns({items:t}){return e.jsx(e.Fragment,{children:t&&t.length>0&&e.jsx(Xt,{children:e.jsx(Qt,{children:t.map((n,a)=>{const o=a===t.length-1;return e.jsxs(x.Fragment,{children:[e.jsx(es,{children:o?e.jsx(ss,{children:n.label}):e.jsx(ts,{asChild:!0,children:e.jsx(B,{href:n.href||"#",children:n.label})})}),!o&&e.jsx(as,{})]},a)})})})})}var Q="Avatar",[rs,Hs]=Re(Q),[is,_e]=rs(Q),Se=x.forwardRef((t,n)=>{const{__scopeAvatar:a,...o}=t,[s,i]=x.useState("idle");return e.jsx(is,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:e.jsx(Y.span,{...o,ref:n})})});Se.displayName=Q;var Ce="AvatarImage",Me=x.forwardRef((t,n)=>{const{__scopeAvatar:a,src:o,onLoadingStatusChange:s=()=>{},...i}=t,g=_e(Ce,a),u=os(o,i.referrerPolicy),v=De(w=>{s(w),g.onImageLoadingStatusChange(w)});return je(()=>{u!=="idle"&&v(u)},[u,v]),u==="loaded"?e.jsx(Y.img,{...i,ref:n,src:o}):null});Me.displayName=Ce;var Ae="AvatarFallback",Le=x.forwardRef((t,n)=>{const{__scopeAvatar:a,delayMs:o,...s}=t,i=_e(Ae,a),[g,u]=x.useState(o===void 0);return x.useEffect(()=>{if(o!==void 0){const v=window.setTimeout(()=>u(!0),o);return()=>window.clearTimeout(v)}},[o]),g&&i.imageLoadingStatus!=="loaded"?e.jsx(Y.span,{...s,ref:n}):null});Le.displayName=Ae;function os(t,n){const[a,o]=x.useState("idle");return je(()=>{if(!t){o("error");return}let s=!0;const i=new window.Image,g=u=>()=>{s&&o(u)};return o("loading"),i.onload=g("loaded"),i.onerror=g("error"),i.src=t,n&&(i.referrerPolicy=n),()=>{s=!1}},[t,n]),a}var ls=Se,cs=Me,ds=Le;function hs({className:t,...n}){return e.jsx(ls,{"data-slot":"avatar",className:T("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...n})}function us({className:t,...n}){return e.jsx(cs,{"data-slot":"avatar-image",className:T("aspect-square size-full",t),...n})}function ps({className:t,...n}){return e.jsx(ds,{"data-slot":"avatar-fallback",className:T("bg-muted flex size-full items-center justify-center rounded-full",t),...n})}function ms(){const{t}=D(),{auth:n}=I().props,a=n==null?void 0:n.user,o=()=>{O.post(route("logout"))},s=a!=null&&a.name?a.name.split(" ").map(i=>i[0]).join("").toUpperCase():"U";return e.jsxs(be,{children:[e.jsx(Ne,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"flex items-center gap-2 h-8 rounded-md",children:[e.jsx("span",{className:"text-sm font-medium hidden md:inline-block",children:a==null?void 0:a.name}),e.jsxs(hs,{className:"h-8 w-8",children:[e.jsx(us,{src:a==null?void 0:a.avatar,alt:a==null?void 0:a.name}),e.jsx(ps,{children:s})]})]})}),e.jsxs(ke,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(kt,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:a==null?void 0:a.email})]})}),e.jsx(xe,{}),e.jsx(_t,{children:e.jsx(Z,{asChild:!0,children:e.jsxs(B,{href:route("profile"),children:[e.jsx(St,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t("Profile")})]})})}),e.jsx(xe,{}),e.jsxs(Z,{onClick:o,children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t("Log out")})]})]})]})}const ve=t=>{const{auth:n}=I().props;return!n||!n.user||!n.permissions?!1:n.permissions.includes(t)},xs=({isOpen:t,onClose:n,onConfirm:a,workspaceName:o,isProcessing:s=!1})=>{const{t:i}=D();return e.jsx(et,{open:t,onOpenChange:n,children:e.jsxs(tt,{className:"sm:max-w-md",children:[e.jsxs(st,{children:[e.jsxs(at,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-orange-500"}),i("Leave Workspace")]}),e.jsxs(nt,{children:[i("Are you sure you want to leave")," ",e.jsx("strong",{children:o}),"?"]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx(Ct,{className:"h-5 w-5 text-orange-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:i("Warning")}),e.jsx("p",{children:i("You will lose access to all projects, tasks, and data in this workspace. This action cannot be undone.")})]})]}),e.jsxs(rt,{children:[e.jsx(S,{variant:"outline",onClick:n,disabled:s,children:i("Cancel")}),e.jsxs(S,{variant:"destructive",onClick:a,disabled:s,className:"bg-orange-600 hover:bg-orange-700",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),i(s?"Leaving...":"Leave Workspace")]})]})]})})},fs=()=>{var v,w,y;const{auth:t}=I().props,n=(v=t==null?void 0:t.user)==null?void 0:v.current_workspace_id,a=((w=t==null?void 0:t.user)==null?void 0:w.ownedWorkspaces)||[],o=((y=t==null?void 0:t.user)==null?void 0:y.workspaces)||[],[s,i]=x.useState(null),g=[...a.map(d=>({...d,is_owner:!0})),...o.filter(d=>!a.find(r=>r.id===d.id)).map(d=>({...d,is_owner:!1}))],u=g.find(d=>d.id===n);return!(t!=null&&t.user)||!ve("workspace_switch")||g.length<=1?null:e.jsxs(e.Fragment,{children:[e.jsxs(be,{children:[e.jsx(Ne,{asChild:!0,children:e.jsxs(S,{variant:"ghost",className:"flex items-center gap-2 h-8 max-w-40",children:[e.jsx(z,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm hidden md:inline-block truncate",children:(u==null?void 0:u.name)||"Select Workspace"})]})}),e.jsx(ke,{className:"w-64",align:"end",children:g.map(d=>{var r;return e.jsxs(Z,{className:"flex items-center justify-between gap-2 p-3",onSelect:c=>c.preventDefault(),children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1 cursor-pointer",onClick:()=>O.post(route("workspaces.switch",d.id)),children:[e.jsx(z,{className:"h-4 w-4 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"truncate font-medium",children:d.name}),!d.is_owner&&e.jsx("div",{className:"text-xs text-muted-foreground",children:"Shared"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[n===d.id&&e.jsx(K,{className:"h-4 w-4 flex-shrink-0"}),!d.is_owner&&d.owner_id!==((r=t==null?void 0:t.user)==null?void 0:r.id)&&g.length>1&&ve("workspace_leave")&&e.jsx(it,{children:e.jsxs(ot,{children:[e.jsx(lt,{asChild:!0,children:e.jsx(S,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:c=>{c.stopPropagation(),i(d)},children:e.jsx(H,{className:"h-3 w-3"})})}),e.jsx(ct,{children:e.jsx("p",{children:"Leave workspace"})})]})})]})]},d.id)})})]}),e.jsx(xs,{isOpen:!!s,onClose:()=>i(null),onConfirm:()=>{s&&O.post(route("workspaces.leave",s.id),{},{onSuccess:()=>{i(null)}})},workspaceName:(s==null?void 0:s.name)||""})]})};function gs(){const[t,n]=x.useState({active:!1,elapsed_seconds:0,is_paused:!1}),[a,o]=x.useState("00:00:00"),[s,i]=x.useState(0);x.useEffect(()=>{g();const d=setInterval(g,2e3),r=setInterval(()=>{t.active&&!t.is_paused&&i(f=>{const k=f+100;return k>=1e3?(n(j=>({...j,elapsed_seconds:j.elapsed_seconds+1})),0):k})},100),c=()=>{g()};return window.addEventListener("timerStarted",c),window.addEventListener("timerStopped",c),window.addEventListener("timerPaused",c),window.addEventListener("timerResumed",c),()=>{clearInterval(d),clearInterval(r),window.removeEventListener("timerStarted",c),window.removeEventListener("timerStopped",c),window.removeEventListener("timerPaused",c),window.removeEventListener("timerResumed",c)}},[]),x.useEffect(()=>{const d=Math.floor(t.elapsed_seconds),r=Math.floor(d/3600),c=Math.floor(d%3600/60),f=d%60;o(`${r.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},[t.elapsed_seconds]);const g=async()=>{try{if(typeof route>"u"){console.warn("Route helper not available");return}const d=await fetch(route("timer.status"));if(d.ok){const r=await d.json();r.active?(n(r),i(0)):(n({active:!1,elapsed_seconds:0,is_paused:!1}),i(0))}}catch(d){console.error("Failed to fetch timer status:",d)}},u=()=>{try{if(typeof route>"u"){window.location.href=route("timesheets.index");return}O.visit(route("timesheets.index"))}catch(d){console.error("Navigation failed:",d),window.location.href=route("timesheets.index")}},v=t.active?t.is_paused?"bg-yellow-50 border-yellow-200 hover:bg-yellow-100":"bg-green-50 border-green-200 hover:bg-green-100":"bg-blue-50 border-blue-200 hover:bg-blue-100",w=t.active?t.is_paused?"text-yellow-600":"text-green-600":"text-blue-600",y=t.active?t.is_paused?"text-yellow-800":"text-green-800":"text-blue-800";return e.jsxs(S,{variant:"outline",size:"sm",className:`gap-2 ${v}`,onClick:u,children:[e.jsx(ye,{className:`h-4 w-4 ${w}`}),e.jsx("span",{className:`font-mono text-xs ${y}`,children:a})]})}function vs({breadcrumbs:t=[]}){var i,g,u;const{t:n}=D(),{position:a}=X(),{auth:o}=I().props,s=(i=o==null?void 0:o.user)==null?void 0:i.current_workspace;return e.jsx(e.Fragment,{children:e.jsx("header",{className:"border-sidebar-border/50 flex h-14 shrink-0 items-center gap-2 border-b px-4 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-3",children:e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="left"&&e.jsx(ie,{className:"-ml-1"}),((g=o==null?void 0:o.user)==null?void 0:g.type)==="company"&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:(s==null?void 0:s.name)||"No Workspace"}),t.length>0&&e.jsx("span",{className:"mx-1",children:"/"})]}),e.jsx(ns,{items:t.map(v=>({label:v.title,href:v.href}))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[I().props.isImpersonating&&e.jsx("button",{onClick:()=>O.post(route("impersonate.leave")),className:"bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600",children:n("Return Back")}),((u=o==null?void 0:o.user)==null?void 0:u.type)!=="superadmin"&&e.jsx(gs,{}),e.jsx(fs,{}),e.jsx(ft,{}),e.jsx(ms,{}),a==="right"&&e.jsx(ie,{className:"-mr-1"})]})]})})})}function js({children:t,breadcrumbs:n=[]}){return e.jsxs(Zt,{variant:"sidebar",children:[e.jsx(Yt,{}),e.jsxs(Ht,{variant:"sidebar",children:[e.jsx(vs,{breadcrumbs:n}),t]})]})}function ws(){const{themeColor:t,customColor:n,themeMode:a}=we();x.useEffect(()=>{const o=t==="custom"?n:dt[t];o&&(document.documentElement.style.setProperty("--theme-color",o),document.documentElement.style.setProperty("--primary",o),document.documentElement.style.setProperty("--chart-1",o))},[t,n]),x.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches,s=a==="dark"||a==="system"&&o;document.documentElement.classList.toggle("dark",s)},[a])}const ys=({children:t,breadcrumbs:n,...a})=>(Mt(),ws(),e.jsx(js,{breadcrumbs:n,...a,children:t}));function Us({title:t,description:n,url:a,actions:o,children:s,noPadding:i=!1,breadcrumbs:g}){const u=g||[{title:t,href:a}];return e.jsxs(ys,{breadcrumbs:u,children:[e.jsx(ht,{title:t}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:t}),o&&o.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:o.map((v,w)=>e.jsxs(S,{variant:v.variant||"outline",size:"sm",onClick:v.onClick,children:[v.icon,v.label]},w))})]}),e.jsx("div",{className:i?"":"rounded-xl border p-6",children:s})]}),e.jsx(J,{})]})}export{hs as A,Tt as B,Kt as C,Pt as F,Dt as L,Us as P,Ot as R,fe as S,Gt as T,Vt as V,ps as a,H as b,us as c,xs as d,Lt as e,V as f,ve as h};
