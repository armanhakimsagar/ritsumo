import{r as T,j as e}from"./ui-Ps9nvBG1.js";import{u as ee,K as se,m as ie,h as x,P as z,L as ae,S as te,I as F,B as t,g as l,C as h,d as j,T as I,a as H,b as q,f as r,c as G,i as b,j as p,k as f,D as le,l as re,n as ne,o as me,p as de,e as K,t as R}from"./app-BTt_gkO3.js";import{P as ce,L as oe,A as v,a as u,S as w}from"./page-template-BeQadk1c.js";import{T as xe}from"./textarea-DPiv_-Qc.js";import{L as he}from"./list-D1IfOmxs.js";import{C as A}from"./crown-h0ONqO0b.js";import{B as Y}from"./building-2-CVOsE0mA.js";import{U as C}from"./users-ClK0ij4u.js";import{E as y}from"./eye-BGcEqodV.js";import{U as _}from"./user-check-DxK1QmPp.js";import"./vendor-B1hewrmX.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";import"./select-z0EzYxFC.js";import"./index-C9qibMqK.js";import"./chevron-up-CaRG6751.js";import"./react-country-flag.esm-2v5ikZ5v.js";import"./language-BbwPiY59.js";import"./loader-circle-LF6za7Wc.js";import"./trending-up-BkxnV74k.js";import"./language-switcher-AzCP_3T2.js";import"./switch-DG4amuEJ.js";import"./dropdown-menu-CvJwe1WI.js";import"./globe-BYIVGjA8.js";import"./square-check-big-B29hCoNu.js";import"./bug-DP5pb0Nw.js";import"./clock-NAV_RQL_.js";import"./credit-card-BwPrmecT.js";import"./dollar-sign-CY6xo33T.js";import"./mail-CZ8KgBhk.js";import"./message-square-DGoN5Yg5.js";import"./settings-CG31wyPI.js";import"./user-DZ3jVi18.js";import"./triangle-alert-BuDHDWvi.js";import"./use-favicon-vjALIuby.js";function $e({ownedWorkspaces:J,memberWorkspaces:Q,currentWorkspace:i}){const{t:a}=ee(),{errors:je,auth:S,isSaasMode:M}=se().props,c=(S==null?void 0:S.permissions)||[],[n,X]=T.useState(""),[d,P]=T.useState("grid"),[Z,o]=T.useState(!1),{data:U,setData:E,post:$,processing:V,errors:g,reset:B}=ie({name:"",description:""}),N=s=>{r.post(route("workspaces.switch",s.id))},D=J.filter(s=>{var m;return s.name.toLowerCase().includes(n.toLowerCase())||((m=s.description)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))}),L=Q.filter(s=>{var m;return s.name.toLowerCase().includes(n.toLowerCase())||((m=s.description)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))}),W=s=>{s.preventDefault(),$(route("workspaces.store"),{onSuccess:()=>{o(!1),B(),R.success(a("Workspace created successfully!"))},onError:m=>{m.error&&R.error(m.error)}})},O=[];x(c,"workspace_create")&&O.push({label:a("Create Workspace"),icon:e.jsx(z,{className:"h-4 w-4 mr-2"}),variant:"default",onClick:()=>o(!0)});const k=[{title:a("Dashboard"),href:route("dashboard")},{title:a("Workspaces")}];return e.jsxs(ce,{title:a("Workspaces Management"),url:"/workspaces",actions:O,breadcrumbs:k,noPadding:!0,children:[e.jsx(ae,{title:a("Workspaces")}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-4",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative w-64",children:[e.jsx(te,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(F,{placeholder:a("Search workspaces..."),value:n,onChange:s=>X(s.target.value),className:"w-full pl-9"})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"border rounded-md p-0.5 mr-2",children:[e.jsx(t,{size:"sm",variant:d==="list"?"default":"ghost",className:"h-7 px-2",onClick:()=>P("list"),children:e.jsx(he,{className:"h-4 w-4"})}),e.jsx(t,{size:"sm",variant:d==="grid"?"default":"ghost",className:"h-7 px-2",onClick:()=>P("grid"),children:e.jsx(oe,{className:"h-4 w-4"})})]})})]})})}),M&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(A,{className:"w-5 h-5 text-amber-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a("Your Workspaces")}),e.jsx(l,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-200",children:D.length})]}),D.length===0?e.jsx(h,{className:"border-dashed border-2 border-gray-300",children:e.jsxs(j,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Y,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a(n?"No workspaces found":"No workspaces yet")}),e.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-sm",children:a(n?"Try adjusting your search terms.":"Create your first workspace to start organizing your projects.")}),!n&&x(c,"workspace_create")&&e.jsxs(t,{onClick:()=>o(!0),children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),a("Create Workspace")]})]})}):e.jsx("div",{className:d==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:D.map(s=>d==="grid"?e.jsx(I,{children:e.jsxs(h,{className:"group hover:shadow-md transition-all duration-200",children:[e.jsxs(H,{className:"pb-3",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(v,{className:"w-10 h-10",children:e.jsx(u,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-semibold text-sm",children:s.name.substring(0,2).toUpperCase()})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(q,{className:"text-base font-semibold text-gray-900 truncate cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>r.visit(route("workspaces.show",s.id)),children:s.name})})]})}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs(l,{className:"bg-amber-100 text-amber-800 border-amber-200 text-xs",children:[e.jsx(A,{className:"w-3 h-3 mr-1"}),"Owner"]}),s.id===(i==null?void 0:i.id)&&e.jsxs(l,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50 text-xs",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Active"]})]}),s.description&&e.jsx(G,{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:s.description})]}),e.jsx(j,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(C,{className:"w-4 h-4 mr-1.5"}),e.jsx("span",{className:"font-medium",children:s.members_count||0}),e.jsx("span",{className:"ml-1",children:"members"})]}),e.jsxs("div",{className:"flex gap-1",children:[x(c,"workspace_view")&&e.jsxs(b,{children:[e.jsx(p,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r.visit(route("workspaces.show",s.id)),children:e.jsx(y,{className:"w-4 h-4"})})}),e.jsx(f,{children:"View Details"})]}),s.id!==(i==null?void 0:i.id)&&x(c,"workspace_switch")&&e.jsx(t,{size:"sm",onClick:()=>N(s),children:"Switch"})]})]})})]})},s.id):e.jsx(h,{className:"hover:shadow-md transition-shadow",children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"w-10 h-10",children:e.jsx(u,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-semibold",children:s.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>r.visit(route("workspaces.show",s.id)),children:s.name}),e.jsxs(l,{className:"bg-amber-100 text-amber-800 border-amber-200",children:[e.jsx(A,{className:"w-3 h-3 mr-1"}),"Owner"]}),s.id===(i==null?void 0:i.id)&&e.jsxs(l,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Active"]})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 truncate",children:s.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),s.members_count||0," members"]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(b,{children:[e.jsx(p,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r.visit(route("workspaces.show",s.id)),children:e.jsx(y,{className:"w-4 h-4"})})}),e.jsx(f,{children:"View Details"})]}),s.id!==(i==null?void 0:i.id)&&e.jsx(t,{size:"sm",onClick:()=>N(s),children:"Switch"})]})]})})},s.id))})]}),L.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(_,{className:"w-5 h-5 text-blue-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a(M?"Shared Workspaces":"Workspaces")}),e.jsx(l,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200",children:L.length})]}),e.jsx("div",{className:d==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:L.map(s=>d==="grid"?e.jsx(I,{children:e.jsxs(h,{className:"group hover:shadow-md transition-all duration-200",children:[e.jsxs(H,{className:"pb-3",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(v,{className:"w-10 h-10",children:e.jsx(u,{className:"bg-gradient-to-br from-green-500 to-teal-600 text-white font-semibold text-sm",children:s.name.substring(0,2).toUpperCase()})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(q,{className:"text-base font-semibold text-gray-900 truncate cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>r.visit(route("workspaces.show",s.id)),children:s.name})})]})}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs(l,{variant:"outline",className:"border-blue-200 text-blue-700 bg-blue-50 text-xs",children:[e.jsx(_,{className:"w-3 h-3 mr-1"}),"Member"]}),s.id===(i==null?void 0:i.id)&&e.jsxs(l,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50 text-xs",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Active"]})]}),s.description&&e.jsx(G,{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:s.description})]}),e.jsx(j,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(C,{className:"w-4 h-4 mr-1.5"}),e.jsx("span",{className:"font-medium",children:s.members_count||0}),e.jsx("span",{className:"ml-1",children:"members"})]}),e.jsxs("div",{className:"flex gap-1",children:[x(c,"workspace_view")&&e.jsxs(b,{children:[e.jsx(p,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r.visit(route("workspaces.show",s.id)),children:e.jsx(y,{className:"w-4 h-4"})})}),e.jsx(f,{children:"View Details"})]}),s.id!==(i==null?void 0:i.id)&&e.jsx(t,{size:"sm",onClick:()=>N(s),children:"Switch"})]})]})})]})},s.id):e.jsx(h,{className:"hover:shadow-md transition-shadow",children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"w-10 h-10",children:e.jsx(u,{className:"bg-gradient-to-br from-green-500 to-teal-600 text-white font-semibold",children:s.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>r.visit(route("workspaces.show",s.id)),children:s.name}),e.jsxs(l,{variant:"outline",className:"border-blue-200 text-blue-700 bg-blue-50",children:[e.jsx(_,{className:"w-3 h-3 mr-1"}),"Member"]}),s.id===(i==null?void 0:i.id)&&e.jsxs(l,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Active"]})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 truncate",children:s.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),s.members_count||0," members"]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(b,{children:[e.jsx(p,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r.visit(route("workspaces.show",s.id)),children:e.jsx(y,{className:"w-4 h-4"})})}),e.jsx(f,{children:"View Details"})]}),s.id!==(i==null?void 0:i.id)&&e.jsx(t,{size:"sm",onClick:()=>N(s),children:"Switch"})]})]})})},s.id))})]}),e.jsx(le,{open:Z,onOpenChange:o,children:e.jsxs(re,{className:"sm:max-w-md",children:[e.jsxs(ne,{children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-blue-600"}),a("Create New Workspace")]}),e.jsx(de,{children:a("Set up a new workspace to organize your projects and collaborate with your team.")})]}),e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(K,{htmlFor:"name",children:[a("Workspace Name")," *"]}),e.jsx(F,{id:"name",value:U.name,onChange:s=>E("name",s.target.value),placeholder:a("e.g., My Company, Project Alpha"),required:!0}),g.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.name})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"description",children:a("Description")}),e.jsx(xe,{id:"description",value:U.description,onChange:s=>E("description",s.target.value),placeholder:a("Describe the purpose of this workspace..."),rows:3}),g.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.description})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(t,{type:"submit",disabled:V,className:"flex-1",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),a(V?"Creating...":"Create Workspace")]}),e.jsx(t,{type:"button",variant:"outline",onClick:()=>{o(!1),B()},children:a("Cancel")})]})]})]})})]})}export{$e as default};
