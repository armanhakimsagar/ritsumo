import{r as j,j as e}from"./ui-Ps9nvBG1.js";import{P as v}from"./page-template-BeQadk1c.js";import{u as w,e as t,I as c,B as g,f as u}from"./app-BTt_gkO3.js";import{T as C}from"./textarea-DPiv_-Qc.js";import{S as n}from"./switch-DG4amuEJ.js";import"./vendor-B1hewrmX.js";import"./select-z0EzYxFC.js";import"./index-C9qibMqK.js";import"./chevron-up-CaRG6751.js";import"./react-country-flag.esm-2v5ikZ5v.js";import"./language-BbwPiY59.js";import"./loader-circle-LF6za7Wc.js";import"./trending-up-BkxnV74k.js";import"./language-switcher-AzCP_3T2.js";import"./dropdown-menu-CvJwe1WI.js";import"./globe-BYIVGjA8.js";import"./building-2-CVOsE0mA.js";import"./square-check-big-B29hCoNu.js";import"./bug-DP5pb0Nw.js";import"./clock-NAV_RQL_.js";import"./credit-card-BwPrmecT.js";import"./dollar-sign-CY6xo33T.js";import"./mail-CZ8KgBhk.js";import"./message-square-DGoN5Yg5.js";import"./settings-CG31wyPI.js";import"./user-DZ3jVi18.js";import"./triangle-alert-BuDHDWvi.js";import"./use-favicon-vjALIuby.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";function te({plan:r,hasDefaultPlan:f=!1,otherDefaultPlanExists:P=!1}){const{t:s}=w(),[p,l]=j.useState(!1),d=!!r,[i,_]=j.useState({name:(r==null?void 0:r.name)||"",price:(r==null?void 0:r.price)||0,yearly_price:(r==null?void 0:r.yearly_price)||void 0,duration:(r==null?void 0:r.duration)||"monthly",description:(r==null?void 0:r.description)||"",max_users_per_workspace:(r==null?void 0:r.max_users_per_workspace)||10,max_clients_per_workspace:(r==null?void 0:r.max_clients_per_workspace)||5,max_managers_per_workspace:(r==null?void 0:r.max_managers_per_workspace)||2,max_projects_per_workspace:(r==null?void 0:r.max_projects_per_workspace)||10,workspace_limit:(r==null?void 0:r.workspace_limit)||1,storage_limit:(r==null?void 0:r.storage_limit)||0,enable_chatgpt:(r==null?void 0:r.enable_chatgpt)||"off",is_trial:(r==null?void 0:r.is_trial)||null,trial_day:(r==null?void 0:r.trial_day)||0,is_plan_enable:(r==null?void 0:r.is_plan_enable)||"on",is_default:(r==null?void 0:r.is_default)||!1}),o=a=>{const{name:m,value:x}=a.target;_(b=>({...b,[m]:x}))},h=(a,m)=>{_(x=>({...x,[a]:m?"on":"off"}))},y=a=>{_(m=>({...m,is_default:a}))},k=a=>{a.preventDefault(),l(!0),d?u.put(route("plans.update",r.id),i,{onFinish:()=>l(!1)}):u.post(route("plans.store"),i,{onFinish:()=>l(!1)})};return e.jsx(v,{title:s(d?"Edit Plan":"Create Plan"),description:s(d?"Update subscription plan details":"Add a new subscription plan"),url:d?route("plans.update",r.id):"/plans/create",breadcrumbs:[{title:s("Dashboard"),href:route("dashboard")},{title:s("Plans"),href:route("plans.index")},{title:s(d?"Edit Plan":"Create Plan")}],children:e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",children:s("Plan Name")}),e.jsx(c,{id:"name",name:"name",value:i.name,onChange:o,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"price",children:s("Monthly Price")}),e.jsx(c,{id:"price",name:"price",type:"number",step:"0.01",value:i.price,onChange:o,required:!0})]}),e.jsxs("div",{children:[e.jsxs(t,{htmlFor:"yearly_price",children:[s("Yearly Price")," ",e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",s("Optional"),")"]})]}),e.jsx(c,{id:"yearly_price",name:"yearly_price",type:"number",step:"0.01",value:i.yearly_price||"",onChange:o,placeholder:s("Leave empty for 20% discount")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("If left empty, yearly price will be calculated as 80% of monthly price Ã— 12")})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"trial_day",children:s("Trial Days")}),e.jsx(c,{id:"trial_day",name:"trial_day",type:"number",value:i.trial_day,onChange:o})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"description",children:s("Description")}),e.jsx(C,{id:"description",name:"description",value:i.description,onChange:o,rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_users_per_workspace",children:s("Maximum Users Per Workspace")}),e.jsx(c,{id:"max_users_per_workspace",name:"max_users_per_workspace",type:"number",value:i.max_users_per_workspace,onChange:o,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_clients_per_workspace",children:s("Maximum Clients Per Workspace")}),e.jsx(c,{id:"max_clients_per_workspace",name:"max_clients_per_workspace",type:"number",value:i.max_clients_per_workspace,onChange:o,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_managers_per_workspace",children:s("Maximum Managers Per Workspace")}),e.jsx(c,{id:"max_managers_per_workspace",name:"max_managers_per_workspace",type:"number",value:i.max_managers_per_workspace,onChange:o,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_projects_per_workspace",children:s("Maximum Projects Per Workspace")}),e.jsx(c,{id:"max_projects_per_workspace",name:"max_projects_per_workspace",type:"number",value:i.max_projects_per_workspace,onChange:o,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"workspace_limit",children:s("Workspace Limit")}),e.jsx(c,{id:"workspace_limit",name:"workspace_limit",type:"number",min:"1",value:i.workspace_limit,onChange:o,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"storage_limit",children:s("Storage Limit (GB)")}),e.jsx(c,{id:"storage_limit",name:"storage_limit",type:"number",step:"0.01",value:i.storage_limit,onChange:o,required:!0})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h3",{className:"font-medium",children:s("Features")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{htmlFor:"enable_chatgpt",children:s("AI Integration")}),e.jsx(n,{id:"enable_chatgpt",checked:i.enable_chatgpt==="on",onCheckedChange:a=>h("enable_chatgpt",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{htmlFor:"is_trial",children:s("Enable Trial")}),e.jsx(n,{id:"is_trial",checked:i.is_trial==="on",onCheckedChange:a=>h("is_trial",a)})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h3",{className:"font-medium",children:s("Settings")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{htmlFor:"is_plan_enable",children:s("Active")}),e.jsx(n,{id:"is_plan_enable",checked:i.is_plan_enable==="on",onCheckedChange:a=>h("is_plan_enable",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"is_default",children:s("Default Plan")}),(d?!(r!=null&&r.is_default):f)&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:s("Setting this as default will remove default status from the current default plan.")})]}),e.jsx(n,{id:"is_default",checked:i.is_default,onCheckedChange:y})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>u.get(route("plans.index")),children:s("Cancel")}),e.jsx(g,{type:"submit",disabled:p,children:s(p?d?"Updating...":"Creating...":d?"Update Plan":"Create Plan")})]})]})})})}export{te as default};
