import{r as n,j as s}from"./ui-Ps9nvBG1.js";import{u as x,E as f,al as S,e as v,B as j,r as N,am as i,f as b}from"./app-BTt_gkO3.js";import{S as E}from"./switch-DG4amuEJ.js";import"./vendor-B1hewrmX.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";function T(){const{t:a}=x(),[r,c]=n.useState({}),[u,h]=n.useState([]);n.useEffect(()=>{f.get(route("settings.email-notifications.available")).then(e=>{h(e.data)}).catch(e=>{console.error("Failed to load available notifications:",e)}),f.get(route("settings.email-notifications.get")).then(e=>{c(e.data)}).catch(e=>{console.error("Failed to load email notification settings:",e)})},[]);const p=(e,t)=>{c(o=>({...o,[e]:t}))},g=e=>{e.preventDefault(),i.loading(a("Saving email notification settings...")),b.post(route("settings.email-notifications.update"),r,{preserveScroll:!0,onSuccess:t=>{var m,d;i.dismiss();const o=(m=t.props.flash)==null?void 0:m.success,l=(d=t.props.flash)==null?void 0:d.error;o?i.success(o):l?i.error(l):i.success("Email notification settings updated successfully.")},onError:()=>{i.error("Failed to update email notification settings.")}})};return s.jsx(S,{title:a("Email Notification Settings"),description:a("Configure which email notifications are sent"),action:s.jsxs(j,{onClick:g,size:"sm",children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),a("Save Changes")]}),children:s.jsx("div",{className:"space-y-4",children:u.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[s.jsx("div",{children:s.jsx(v,{htmlFor:e.name,className:"text-sm font-medium",children:a(e.label)})}),s.jsx(E,{id:e.name,checked:r[e.name]||!1,onCheckedChange:t=>p(e.name,t)})]},e.name))})})}export{T as default};
