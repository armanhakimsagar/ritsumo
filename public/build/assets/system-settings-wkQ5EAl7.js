import{r as V,j as e}from"./ui-Ps9nvBG1.js";import{u as w,K as P,al as z,e as c,B as M,r as k,f as Y,t as j}from"./app-BTt_gkO3.js";import{S as m,a as u,b as h,c as g,d as t}from"./select-z0EzYxFC.js";import{S as N}from"./switch-DG4amuEJ.js";import{l as T}from"./language-BbwPiY59.js";import{R as D}from"./react-country-flag.esm-2v5ikZ5v.js";import"./vendor-B1hewrmX.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";import"./index-C9qibMqK.js";import"./chevron-up-CaRG6751.js";function Q({settings:f={},timezones:p={},dateFormats:y={},timeFormats:S={}}){const{t:s}=w(),v=P().props;v.isSaasMode;const o={defaultLanguage:"en",dateFormat:"MM/DD/YYYY",timeFormat:"12h",calendarStartDay:"sunday",defaultTimezone:"UTC"},r=Object.keys(f).length>0?f:v.settings||{},[n,L]=V.useState(()=>({defaultLanguage:r.defaultLanguage||o.defaultLanguage,dateFormat:r.dateFormat||o.dateFormat,timeFormat:r.timeFormat||o.timeFormat,calendarStartDay:r.calendarStartDay||o.calendarStartDay,defaultTimezone:r.defaultTimezone||o.defaultTimezone,emailVerification:r.emailVerification==="1",landingPageEnabled:r.landingPageEnabled==="1"})),i=(a,l)=>{L(d=>({...d,[a]:l}))},E=a=>{a.preventDefault();const l={defaultLanguage:n.defaultLanguage,dateFormat:n.dateFormat,timeFormat:n.timeFormat,calendarStartDay:n.calendarStartDay,defaultTimezone:n.defaultTimezone,emailVerification:!!n.emailVerification,landingPageEnabled:!!n.landingPageEnabled};Y.post(route("settings.system.update"),l,{preserveScroll:!0,onSuccess:d=>{var b,C;const x=(b=d.props.flash)==null?void 0:b.success,F=(C=d.props.flash)==null?void 0:C.error;x?j.success(x):F&&j.error(F)},onError:d=>{const x=d.error||Object.values(d).join(", ")||s("Failed to update system settings");j.error(x)}})};return e.jsx(z,{title:s("System Settings"),description:s("Configure system-wide settings for your application"),action:e.jsxs(M,{type:"submit",form:"system-settings-form",size:"sm",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),s("Save Changes")]}),children:e.jsx("form",{id:"system-settings-form",onSubmit:E,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"defaultLanguage",children:s("Default Language")}),e.jsxs(m,{value:n.defaultLanguage,onValueChange:a=>i("defaultLanguage",a),children:[e.jsx(u,{children:e.jsx(h,{placeholder:s("Select language"),children:n.defaultLanguage&&(()=>{const a=T.find(l=>l.code===n.defaultLanguage);return a?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{countryCode:a.countryCode,svg:!0,style:{width:"1.2em",height:"1.2em"}})," ",e.jsx("span",{children:s(a.name)})," "]}):s("Select language")})()})}),e.jsx(g,{children:T.map(a=>e.jsx(t,{value:a.code,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{countryCode:a.countryCode,svg:!0,style:{width:"1.2em",height:"1.2em"}})," ",e.jsx("span",{children:s(a.name)})]})},a.code))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"dateFormat",children:s("Date Format")}),e.jsxs(m,{value:n.dateFormat,onValueChange:a=>i("dateFormat",a),children:[e.jsx(u,{children:e.jsx(h,{placeholder:s("Select date format")})}),e.jsx(g,{children:Object.keys(y).length>0?Object.entries(y).map(([a,l])=>e.jsx(t,{value:a,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:a}),e.jsxs("span",{className:"text-muted-foreground text-sm ml-4",children:["(",l,")"]})]})},a)):e.jsxs(e.Fragment,{children:[e.jsx(t,{value:"M j, Y",children:s("Jan 1, 2025")}),e.jsx(t,{value:"d-m-Y",children:s("01-01-2025")}),e.jsx(t,{value:"Y-m-d",children:s("2025-01-01")}),e.jsx(t,{value:"F j, Y",children:s("January 1, 2025")})]})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"timeFormat",children:s("Time Format")}),e.jsxs(m,{value:n.timeFormat,onValueChange:a=>i("timeFormat",a),children:[e.jsx(u,{children:e.jsx(h,{placeholder:s("Select time format")})}),e.jsx(g,{children:Object.keys(S).length>0?Object.entries(S).map(([a,l])=>e.jsx(t,{value:a,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:a}),e.jsxs("span",{className:"text-muted-foreground text-sm ml-4",children:["(",l,")"]})]})},a)):e.jsxs(e.Fragment,{children:[e.jsx(t,{value:"g:i A",children:s("1:30 PM")}),e.jsx(t,{value:"H:i",children:s("13:30")}),e.jsx(t,{value:"g:i a",children:s("1:30 pm")})]})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"calendarStartDay",children:s("Calendar Start Day")}),e.jsxs(m,{value:n.calendarStartDay,onValueChange:a=>i("calendarStartDay",a),children:[e.jsx(u,{children:e.jsx(h,{placeholder:s("Select start day")})}),e.jsxs(g,{children:[e.jsx(t,{value:"sunday",children:s("Sunday")}),e.jsx(t,{value:"monday",children:s("Monday")})]})]})]}),e.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[e.jsx(c,{htmlFor:"defaultTimezone",children:s("Default Timezone")}),e.jsxs(m,{value:n.defaultTimezone,onValueChange:a=>i("defaultTimezone",a),children:[e.jsx(u,{children:e.jsx(h,{placeholder:s("Select timezone")})}),e.jsx(g,{children:Object.keys(p).length>0?Object.entries(p).map(([a,l])=>e.jsx(t,{value:a,children:l},a)):e.jsxs(e.Fragment,{children:[e.jsx(t,{value:"UTC",children:s("UTC")}),e.jsx(t,{value:"America/New_York",children:s("Eastern Time (ET)")}),e.jsx(t,{value:"America/Chicago",children:s("Central Time (CT)")}),e.jsx(t,{value:"Europe/London",children:s("London (GMT)")})]})})]})]}),e.jsx("div",{className:"grid gap-2 md:col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{htmlFor:"emailVerification",children:s("Email Verification")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("Require users to verify their email addresses")})]}),e.jsx(N,{id:"emailVerification",checked:n.emailVerification,onCheckedChange:a=>i("emailVerification",a)})]})}),e.jsx("div",{className:"grid gap-2 md:col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{htmlFor:"landingPageEnabled",children:s("Landing Page")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("Enable or disable the public landing page")})]}),e.jsx(N,{id:"landingPageEnabled",checked:n.landingPageEnabled,onCheckedChange:a=>i("landingPageEnabled",a)})]})})]})})})}export{Q as default};
