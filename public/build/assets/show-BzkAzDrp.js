import{r as c,j as e}from"./ui-Ps9nvBG1.js";import{u as B,K as F,t as p,L as I,C as x,a as u,b as h,B as T,r as w,f as k,d as f,e as l,I as S,g as j}from"./app-BTt_gkO3.js";import{P as U}from"./page-template-BeQadk1c.js";import{T as O,a as P,b as W,c as _}from"./tabs-D83PhGuv.js";import{T as A}from"./textarea-DPiv_-Qc.js";import"./vendor-B1hewrmX.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";import"./select-z0EzYxFC.js";import"./index-C9qibMqK.js";import"./chevron-up-CaRG6751.js";import"./react-country-flag.esm-2v5ikZ5v.js";import"./language-BbwPiY59.js";import"./loader-circle-LF6za7Wc.js";import"./trending-up-BkxnV74k.js";import"./language-switcher-AzCP_3T2.js";import"./switch-DG4amuEJ.js";import"./dropdown-menu-CvJwe1WI.js";import"./globe-BYIVGjA8.js";import"./building-2-CVOsE0mA.js";import"./square-check-big-B29hCoNu.js";import"./bug-DP5pb0Nw.js";import"./clock-NAV_RQL_.js";import"./credit-card-BwPrmecT.js";import"./dollar-sign-CY6xo33T.js";import"./mail-CZ8KgBhk.js";import"./message-square-DGoN5Yg5.js";import"./settings-CG31wyPI.js";import"./user-DZ3jVi18.js";import"./triangle-alert-BuDHDWvi.js";import"./use-favicon-vjALIuby.js";function ve({template:r,languages:n,variables:b}){var y,C;const{t:s}=B(),{flash:o}=F().props,[N,L]=c.useState(r.type),[v,E]=c.useState(((y=n[0])==null?void 0:y.code)||"en"),[d,g]=c.useState(r.notification_template_langs.reduce((t,i)=>(t[i.lang]={title:i.title,content:i.content},t),{})),$=(t,i)=>{g(a=>({...a,[t]:{...a[t],title:i}}))},z=(t,i)=>{g(a=>({...a,[t]:{...a[t],content:i}}))};c.useEffect(()=>{o!=null&&o.success&&p.success(o.success),o!=null&&o.error&&p.error(o.error)},[o]);const V=[{title:s("Dashboard"),href:route("dashboard")},{title:s("Notification Templates"),href:route("notification-templates.index")},{title:r.name}];return e.jsxs(U,{title:r.name,url:route("notification-templates.show",r.id),breadcrumbs:V,children:[e.jsx(I,{title:`Edit Template - ${r.name}`}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(x,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(h,{children:s("Template Settings")}),e.jsxs(T,{onClick:()=>{k.put(route("notification-templates.update-settings",r.id),{type:N})},size:"sm",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),s("Save Changes")]})]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{children:s("Template Name")}),e.jsx(S,{value:r.name,disabled:!0,className:"bg-muted"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Template name cannot be changed")})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"type",children:s("Notification Type")}),e.jsxs("select",{id:"type",value:N,onChange:t=>L(t.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"success",children:"Success"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"})]})]})]})]}),e.jsxs(x,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(h,{children:s("Notification Content")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("Customize notification content for different languages")})]}),e.jsxs(T,{onClick:()=>{const t=d[v];t&&k.put(route("notification-templates.update-content",r.id),{lang:v,title:t.title,content:t.content})},size:"sm",className:"shrink-0",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),s("Save Content")]})]})}),e.jsx(f,{children:e.jsxs(O,{defaultValue:(C=n[0])==null?void 0:C.code,onValueChange:E,className:"w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(P,{className:"inline-flex h-auto p-1 w-max",children:n.map(t=>e.jsx(W,{value:t.code,className:"text-xs px-3 py-2 whitespace-nowrap data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:t.code.toUpperCase()},t.code))})})}),n.map(t=>{var i,a;return e.jsxs(_,{value:t.code,className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[e.jsx(j,{variant:"default",className:"px-3 py-1",children:t.code.toUpperCase()}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Edit notification content for this language")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(l,{htmlFor:`title-${t.code}`,className:"text-sm font-medium",children:s("Notification Title")}),e.jsx(S,{id:`title-${t.code}`,value:((i=d[t.code])==null?void 0:i.title)||"",onChange:m=>$(t.code,m.target.value),placeholder:s("Enter notification title"),className:"focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:`content-${t.code}`,className:"text-sm font-medium",children:s("Notification Content")}),e.jsx(A,{id:`content-${t.code}`,value:((a=d[t.code])==null?void 0:a.content)||"",onChange:m=>z(t.code,m.target.value),placeholder:s("Write your notification content here..."),className:"min-h-[200px] focus:ring-2 focus:ring-primary"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["ðŸ’¡ ",s("Tip: Use the variables from the sidebar to personalize your notifications")]})]})]})]},t.code)})]})})]})]}),e.jsx("div",{children:e.jsxs(x,{children:[e.jsxs(u,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx("span",{children:s("Available Variables")}),e.jsx(j,{variant:"secondary",className:"text-xs",children:Object.keys(b).length})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("Click to copy variables to use in your notification content")})]}),e.jsxs(f,{children:[e.jsx("div",{className:"space-y-3",children:Object.entries(b).map(([t,i])=>e.jsxs("div",{className:"group p-3 bg-muted/50 rounded-lg border hover:bg-muted/80 cursor-pointer transition-colors",onClick:()=>{navigator.clipboard.writeText(t),p.success(s("Variable copied to clipboard"))},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("code",{className:"text-sm font-mono text-primary font-medium bg-background px-1.5 py-0.5 rounded",children:t}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(j,{variant:"outline",className:"text-xs",children:s("Click to copy")})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 leading-relaxed",children:i})]},t))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700",children:["ðŸ’¡ ",e.jsxs("strong",{children:[s("Tip"),":"]})," ",s("These variables will be automatically replaced with actual values when notifications are sent.")]})})]})]})})]})]})}export{ve as default};
