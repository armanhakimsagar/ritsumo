import{r as l,j as e}from"./ui-Ps9nvBG1.js";import{u as w,K as b,al as D,e as S,I as M,M as I,B as K,r as E,t as o,f as N}from"./app-BTt_gkO3.js";import{T as O}from"./textarea-DPiv_-Qc.js";import"./vendor-B1hewrmX.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";function L({settings:g={}}){const{t}=w(),f=b().props,c={metaKeywords:"",metaDescription:"",metaImage:""},n=Object.keys(g).length>0?g:f.settings||{},[i,d]=l.useState(()=>({metaKeywords:n.metaKeywords||c.metaKeywords,metaDescription:n.metaDescription||c.metaDescription,metaImage:n.metaImage||c.metaImage})),[C,j]=l.useState([]);l.useEffect(()=>{if(Object.keys(n).length>0){const r=Object.keys(c).reduce((a,s)=>(a[s]=n[s]||c[s],a),{});d(a=>({...a,...r}))}},[n]);const p=(r,a)=>{d(s=>({...s,[r]:a}))},y=(r,a)=>{d(s=>({...s,metaImage:r})),j(a||[])},v=r=>{if(r.preventDefault(),!i.metaKeywords.trim()){o.error(t("Meta Keywords is required"));return}if(!i.metaDescription.trim()){o.error(t("Meta Description is required"));return}if(!i.metaImage.trim()){o.error(t("Meta Image is required"));return}try{const a=route("settings.seo.update");N.post(a,i,{preserveScroll:!0,onSuccess:s=>{var h,x;const m=(h=s.props.flash)==null?void 0:h.success,u=(x=s.props.flash)==null?void 0:x.error;m?o.success(m):u&&o.error(u)},onError:s=>{const m=s.error||Object.values(s).join(", ")||t("Failed to update SEO settings");o.error(m)}})}catch{o.error(t("Failed to submit SEO settings"))}};return e.jsx(D,{title:t("SEO Settings"),description:t("Configure SEO settings to improve your website's search engine visibility"),action:e.jsxs(K,{type:"submit",form:"seo-settings-form",size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),t("Save Changes")]}),children:e.jsx("form",{id:"seo-settings-form",onSubmit:v,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(S,{htmlFor:"metaKeywords",children:[t("Meta Keywords")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(M,{id:"metaKeywords",type:"text",value:i.metaKeywords,onChange:r=>p("metaKeywords",r.target.value),placeholder:t("Enter keywords separated by commas"),required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(S,{htmlFor:"metaDescription",children:[t("Meta Description")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(O,{id:"metaDescription",value:i.metaDescription,onChange:r=>p("metaDescription",r.target.value),placeholder:t("Enter a brief description for search engines (max 160 characters)"),maxLength:160,rows:3,required:!0}),e.jsxs("div",{className:"text-sm text-muted-foreground text-right",children:[i.metaDescription.length,"/160"]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{label:`${t("Meta Image")} *`,value:i.metaImage,onChange:y,placeholder:t("Select meta image for SEO"),showPreview:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("Recommended size: 1200x630px for optimal social media sharing")})]})]})})})}export{L as default};
