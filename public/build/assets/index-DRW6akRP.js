const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./app-BTt_gkO3.js","./ui-Ps9nvBG1.js","./vendor-B1hewrmX.js","./utils-DVuJ_tgg.js","./app-FcHkoK2t.css","./dark-mode-CbIfkZ9G.css"])))=>i.map(i=>d[i]);
import{R as l,r as c,j as d}from"./ui-Ps9nvBG1.js";import{P as _}from"./PageCrudWrapper-C24ekCvw.js";import{_ as b,t as a,u as y,K as f}from"./app-BTt_gkO3.js";import{c as x}from"./columnRenderers-gRjLE1do.js";import{S as h}from"./switch-DG4amuEJ.js";import{t}from"./i18n-DqlZoCzL.js";import"./vendor-B1hewrmX.js";import"./page-template-BeQadk1c.js";import"./textarea-DPiv_-Qc.js";import"./select-z0EzYxFC.js";import"./index-C9qibMqK.js";import"./chevron-up-CaRG6751.js";import"./react-country-flag.esm-2v5ikZ5v.js";import"./language-BbwPiY59.js";import"./loader-circle-LF6za7Wc.js";import"./trending-up-BkxnV74k.js";import"./language-switcher-AzCP_3T2.js";import"./dropdown-menu-CvJwe1WI.js";import"./globe-BYIVGjA8.js";import"./building-2-CVOsE0mA.js";import"./square-check-big-B29hCoNu.js";import"./bug-DP5pb0Nw.js";import"./clock-NAV_RQL_.js";import"./credit-card-BwPrmecT.js";import"./dollar-sign-CY6xo33T.js";import"./mail-CZ8KgBhk.js";import"./message-square-DGoN5Yg5.js";import"./settings-CG31wyPI.js";import"./user-DZ3jVi18.js";import"./triangle-alert-BuDHDWvi.js";import"./use-favicon-vjALIuby.js";import"./CrudTable-Dq4zN5Ad.js";import"./table-CxFq10cW.js";import"./activity-BmMDIvmq.js";import"./unlink-Da4sYO3X.js";import"./archive-B7y_TeQV.js";import"./minus-CDE_iHiI.js";import"./arrow-left-VMG9JuEa.js";import"./arrow-right-BKcgVE4F.js";import"./code-BqYpr4o9.js";import"./lock-open-B07HE5u7.js";import"./award-Bb-BmrHF.js";import"./indian-rupee-CXBAgLWO.js";import"./webhook-BDBcvkpM.js";import"./building-D7PWBF3-.js";import"./calendar-pZCS8WPy.js";import"./chart-column-CH-40Yjn.js";import"./chevron-left-BAvb6WGn.js";import"./circle-alert-DCoDy4PA.js";import"./circle-check-big-BMYVPbRH.js";import"./circle-check-B5E119oN.js";import"./circle-help-DcK-i_SQ.js";import"./circle-x-BnYRe0cI.js";import"./circle-B-lwSO-9.js";import"./coins-QSIO91L8.js";import"./columns-3-BJflJd0h.js";import"./crown-h0ONqO0b.js";import"./download-FY3rJJBK.js";import"./ellipsis-DhhTm3i6.js";import"./external-link-DZ7-d7Y_.js";import"./eye-off-CBRrilSi.js";import"./eye-BGcEqodV.js";import"./instagram-CVFp5Sx_.js";import"./file-3AWHN2l6.js";import"./filter-C99mLYzj.js";import"./grip-vertical-1PuRD1LT.js";import"./hard-drive-DkZiK8kb.js";import"./heart-CNQFES80.js";import"./house-Bz__QWIz.js";import"./info-CWa1AAnn.js";import"./key-Z3HmnV2-.js";import"./lightbulb-DQSQ9qNV.js";import"./link-2-pbuNzVBD.js";import"./link-DceUnw3z.js";import"./twitter-CZjBB1-K.js";import"./list-D1IfOmxs.js";import"./lock-BlSlbQY6.js";import"./map-pin-wCNGu7TE.js";import"./menu-BH-rpoiU.js";import"./message-circle-DFnVEf3y.js";import"./monitor-U4qpGUkK.js";import"./wifi-CvP3D_V4.js";import"./paperclip-h_SfHoPk.js";import"./pause-vB4M0M_Y.js";import"./tag-OznyPslI.js";import"./phone-CcborKQC.js";import"./pin-z3kXVgm0.js";import"./play-C9ujj4pR.js";import"./power-DtAmx68i.js";import"./quote-DqGKb1gV.js";import"./send-B0OsKa7V.js";import"./server-CK254A3D.js";import"./shield-D21jpLkF.js";import"./square-pen-BE6Ef4zh.js";import"./square-DyzuZ8y2.js";import"./star-LRbmONxX.js";import"./sticky-note-BnqKoA0i.js";import"./target-LDs0Bf_v.js";import"./timer-Cde2YpCK.js";import"./toggle-right-uccKRcAk.js";import"./trash-2-WsAE_ige.js";import"./trending-down-CxK3FgOd.js";import"./type-DfB6MBM_.js";import"./user-check-DxK1QmPp.js";import"./user-plus-cb7gLVi3.js";import"./users-ClK0ij4u.js";import"./wallet-CH1oYh2R.js";import"./zap-D5bA-otg.js";import"./CrudFormModal-CIUswiAq.js";import"./radio-group-JdhkNCQh.js";import"./checkbox-ux8-2I9a.js";import"./scroll-area-B8km6OEG.js";import"./EnhancedDeleteModal-BUN-gSW9.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";const s={entity:{name:"coupons",endpoint:route("coupons.index"),permissions:{view:"coupon_view_any",create:"coupon_create",edit:"coupon_update",delete:"coupon_delete"}},modalSize:"4xl",description:t("Manage discount coupons and promotional codes"),table:{columns:[{key:"name",label:t("Name"),sortable:!0},{key:"type",label:t("Type"),sortable:!0,render:o=>o==="percentage"?t("Percentage"):t("Flat Amount")},{key:"minimum_spend",label:t("Min Spend"),render:o=>{var r;return o?((r=window.appSettings)==null?void 0:r.formatCurrency(o))||`${parseFloat(o).toFixed(2)}`:"-"}},{key:"maximum_spend",label:t("Max Spend"),render:o=>{var r;return o?((r=window.appSettings)==null?void 0:r.formatCurrency(o))||`${parseFloat(o).toFixed(2)}`:"-"}},{key:"discount_amount",label:t("Discount"),render:(o,r)=>{var n;const p=parseFloat(o);return r.type==="percentage"?`${p}%`:((n=window.appSettings)==null?void 0:n.formatCurrency(p))||`${p.toFixed(2)}`}},{key:"use_limit_per_coupon",label:t("Coupon Limit"),render:o=>o||t("Unlimited")},{key:"use_limit_per_user",label:t("User Limit"),render:o=>o||t("Unlimited")},{key:"expiry_date",label:t("Expiry Date"),sortable:!0,render:x.date()},{key:"code",label:t("Code"),sortable:!0},{key:"status",label:t("Status"),render:(o,r)=>{const[p,n]=l.useState(!!o),u=async()=>{const{router:m}=await b(async()=>{const{router:e}=await import("./app-BTt_gkO3.js").then(i=>i.aq);return{router:e}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url);m.put(route("coupons.toggle-status",r.id),{},{onSuccess:e=>{const i=e.props.flash||{};n(!p),r.status=!r.status,a.success(i.success||"Status updated successfully")},onError:()=>{a.error("Error updating status")}})};return l.createElement("div",{className:"flex items-center justify-center"},[l.createElement(h,{key:"status-switch",checked:p,onCheckedChange:u})])}}],actions:[{label:t("Edit"),icon:"Edit",action:"edit",className:"text-amber-500"},{label:t("Delete"),icon:"Trash2",action:"delete",className:"text-red-500"}]},search:{enabled:!0,placeholder:t("Search coupons..."),fields:["name","code"]},filters:[{key:"type",label:t("Type"),type:"select",options:[{value:"all",label:t("All Types")},{value:"percentage",label:t("Percentage")},{value:"flat",label:t("Flat Amount")}]},{key:"status",label:t("Status"),type:"select",options:[{value:"all",label:t("All Status")},{value:"1",label:t("Active")},{value:"0",label:t("Inactive")}]}],form:{fields:[{name:"name",label:t("Coupon Name"),type:"text",required:!0,colSpan:12,placeholder:t("Enter coupon name")},{name:"type",label:t("Discount Type"),type:"select",required:!0,colSpan:6,options:[{value:"percentage",label:t("Percentage (%)")},{value:"flat",label:t("Fixed Amount ($)")}]},{name:"discount_amount",label:t("Discount Value"),type:"number",required:!0,colSpan:6,min:0,max:99,step:.01,placeholder:t("Enter value")},{name:"code_type",label:t("Code Generation"),type:"radio",required:!0,colSpan:12,options:[{value:"manual",label:t("Manual Entry")},{value:"auto",label:t("Auto Generate")}],defaultValue:"manual"},{name:"code",label:t("Coupon Code"),type:"custom",colSpan:12,render:(o,r,p)=>{const n=()=>{const m="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let i=0;i<10;i++)e+=m.charAt(Math.floor(Math.random()*m.length));p("code",e)},u=r.code_type==="auto";return l.createElement("div",{className:"space-y-2"},[l.createElement("div",{className:u?"flex gap-2":"",key:"input-group"},u?[l.createElement("input",{key:"code-input",type:"text",value:r.code||"",onChange:m=>p("code",m.target.value.toUpperCase()),placeholder:t("Click generate to create code"),className:"flex-1 px-3 py-2 border rounded-md"}),l.createElement("button",{key:"generate-btn",type:"button",onClick:n,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"},t("Generate"))]:[l.createElement("input",{key:"code-input-manual",type:"text",value:r.code||"",onChange:m=>p("code",m.target.value.toUpperCase()),placeholder:t("Enter coupon code"),className:"w-full px-3 py-2 border rounded-md"})])])}},{name:"minimum_spend",label:t("Minimum Spend ($)"),type:"number",colSpan:6,min:0,step:.01,placeholder:t("Optional")},{name:"maximum_spend",label:t("Maximum Spend ($)"),type:"number",colSpan:6,min:0,step:.01,placeholder:t("Optional")},{name:"use_limit_per_coupon",label:t("Total Usage Limit"),type:"number",colSpan:6,min:1,placeholder:t("Leave empty for unlimited")},{name:"use_limit_per_user",label:t("Usage Limit Per User"),type:"number",colSpan:6,min:1,placeholder:t("Leave empty for unlimited")},{name:"expiry_date",label:t("Expiry Date"),type:"date",colSpan:6},{name:"status",label:t("Status"),type:"switch",colSpan:6,defaultValue:!0,placeholder:t("Enable or disable this coupon")}]}};function At(){const{t:o}=y(),{flash:r}=f().props,[p,n]=c.useState(s);c.useEffect(()=>{r!=null&&r.success&&a.success(r.success),r!=null&&r.error&&a.error(r.error)},[r]),c.useEffect(()=>{var m;n({...s,table:{...s.table,columns:s.table.columns.map(e=>({...e,label:o(e.label)}))},form:{...s.form,fields:s.form.fields.map(e=>({...e,label:o(e.label),placeholder:e.placeholder?o(e.placeholder):void 0,options:e.options?e.options.map(i=>({...i,label:o(i.label)})):void 0}))},filters:(m=s.filters)==null?void 0:m.map(e=>({...e,label:o(e.label),options:e.options?e.options.map(i=>({...i,label:o(i.label)})):void 0})),hooks:{beforeCreate:e=>(e.code_type||(e.code_type="manual"),(e.status===void 0||e.status===null)&&(e.status=!0),e.minimum_spend&&(e.minimum_spend=parseFloat(e.minimum_spend)),e.maximum_spend&&(e.maximum_spend=parseFloat(e.maximum_spend)),e.discount_amount&&(e.discount_amount=parseFloat(e.discount_amount)),e.use_limit_per_coupon&&(e.use_limit_per_coupon=parseInt(e.use_limit_per_coupon)),e.use_limit_per_user&&(e.use_limit_per_user=parseInt(e.use_limit_per_user)),e),beforeUpdate:e=>((e.status===void 0||e.status===null)&&(e.status=!0),e.minimum_spend&&(e.minimum_spend=parseFloat(e.minimum_spend)),e.maximum_spend&&(e.maximum_spend=parseFloat(e.maximum_spend)),e.discount_amount&&(e.discount_amount=parseFloat(e.discount_amount)),e.use_limit_per_coupon&&(e.use_limit_per_coupon=parseInt(e.use_limit_per_coupon)),e.use_limit_per_user&&(e.use_limit_per_user=parseInt(e.use_limit_per_user)),e),afterCreate:e=>{a.success(o('Coupon "{{name}}" created successfully',{name:e.name}))},afterUpdate:e=>{a.success(o('Coupon "{{name}}" updated successfully',{name:e.name}))},afterDelete:()=>{a.success(o("Coupon deleted successfully"))}}})},[o]);const u=[{title:o("Dashboard"),href:route("dashboard")},{title:o("Coupons")}];return d.jsx(_,{config:p,url:"/coupons",breadcrumbs:u})}export{At as default};
