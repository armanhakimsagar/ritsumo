import{r as p,j as e}from"./ui-Ps9nvBG1.js";import{u as b,al as N,e as h,I as x,B as j,r as y,f as z,t as i}from"./app-BTt_gkO3.js";import{K as I}from"./key-Z3HmnV2-.js";import{C as Z}from"./circle-check-big-BMYVPbRH.js";import{C as D}from"./circle-x-BnYRe0cI.js";import"./vendor-B1hewrmX.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";function R({settings:u={}}){const{t:s}=b(),[r,v]=p.useState({zoom_account_id:u.zoom_account_id||"",zoom_client_id:u.zoom_client_id||"",zoom_client_secret:u.zoom_client_secret||""}),[m,n]=p.useState(!1),[f,d]=p.useState(null),_=(o,t)=>{v(c=>({...c,[o]:t}))},C=o=>{o.preventDefault(),n(!0),z.post(route("settings.zoom.update"),r,{preserveScroll:!0,onSuccess:t=>{var l,g;n(!1);const c=(l=t.props.flash)==null?void 0:l.success,a=(g=t.props.flash)==null?void 0:g.error;c?i.success(c):a&&i.error(a)},onError:t=>{n(!1);const c=t.error||Object.values(t).join(", ")||s("Failed to update Zoom settings");i.error(c)}})},S=async()=>{n(!0),d(null),z.post(route("settings.zoom.test"),{zoom_account_id:r.zoom_account_id,zoom_client_id:r.zoom_client_id,zoom_client_secret:r.zoom_client_secret},{preserveScroll:!0,onSuccess:o=>{var a,l;n(!1);const t=(a=o.props.flash)==null?void 0:a.success,c=(l=o.props.flash)==null?void 0:l.error;t?(d("success"),i.success(t)):c&&(d("error"),i.error(c))},onError:o=>{d("error"),n(!1);const t=o.error||Object.values(o).join(", ")||s("Failed to test connection");i.error(t)}})};return e.jsx(N,{title:s("Zoom Integration Settings"),description:s("Configure Zoom meeting integration for video conferencing"),action:e.jsxs(j,{type:"submit",form:"zoom-form",disabled:m,size:"sm",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),s(m?"Saving...":"Save Changes")]}),children:e.jsx("form",{id:"zoom-form",onSubmit:C,className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("h4",{className:"font-medium",children:s("API Credentials")})]}),e.jsxs("div",{children:[e.jsxs(h,{htmlFor:"zoom_account_id",children:[s("Account ID")," *"]}),e.jsx(x,{id:"zoom_account_id",type:"text",value:r.zoom_account_id,onChange:o=>_("zoom_account_id",o.target.value),placeholder:s("Enter your Zoom Account ID"),required:!0})]}),e.jsxs("div",{children:[e.jsxs(h,{htmlFor:"zoom_client_id",children:[s("Client ID")," *"]}),e.jsx(x,{id:"zoom_client_id",type:"text",value:r.zoom_client_id,onChange:o=>_("zoom_client_id",o.target.value),placeholder:s("Enter your Zoom Client ID"),required:!0})]}),e.jsxs("div",{children:[e.jsxs(h,{htmlFor:"zoom_client_secret",children:[s("Client Secret")," *"]}),e.jsx(x,{id:"zoom_client_secret",type:"password",value:r.zoom_client_secret,onChange:o=>_("zoom_client_secret",o.target.value),placeholder:s("Enter your Zoom Client Secret"),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:S,disabled:!r.zoom_account_id||!r.zoom_client_id||!r.zoom_client_secret||m,children:s(m?"Testing...":"Test Connection")}),f==="success"&&e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s("Connection successful")})]}),f==="error"&&e.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:s("Connection failed")})]})]}),e.jsxs("p",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded border border-amber-200",children:[e.jsx("strong",{children:"Note:"})," You must test and validate your credentials before Zoom Meetings will appear in the sidebar."]})]})]})})})}export{R as default};
