import{r as A,j as e}from"./ui-Ps9nvBG1.js";import{u as K,al as U,B as F,r as z,f as R,t as g,e as c,I as o}from"./app-BTt_gkO3.js";import{T as _,a as k,b as w,c as x}from"./tabs-D83PhGuv.js";import{C}from"./checkbox-ux8-2I9a.js";import{H as E}from"./hard-drive-DkZiK8kb.js";import"./vendor-B1hewrmX.js";/* empty css            *//* empty css                  */import"./utils-DVuJ_tgg.js";import"./index-C9qibMqK.js";function X({settings:r={}}){const{t:l}=K(),j={"3dmf":"3dmf","3dm":"3dm",avi:"avi",ai:"ai",bin:"bin",bmp:"bmp",cab:"cab",c:"c","c++":"c++",class:"class",css:"css",csv:"csv",cdr:"cdr",doc:"doc",dot:"dot",docx:"docx",dwg:"dwg",eps:"eps",exe:"exe",gif:"gif",gz:"gz",gtar:"gtar",flv:"flv",fh4:"fh4",fh5:"fh5",fhc:"fhc",help:"help",hlp:"hlp",html:"html",htm:"htm",ico:"ico",imap:"imap",inf:"inf",jpe:"jpe",jpeg:"jpeg",jpg:"jpg",js:"js",java:"java",latex:"latex",log:"log",m3u:"m3u",midi:"midi",mid:"mid",mov:"mov",mp4:"mp4",mp3:"mp3",mpeg:"mpeg",mpg:"mpg",mp2:"mp2",ogg:"ogg",phtml:"phtml",php:"php",pdf:"pdf",pgp:"pgp",png:"png",pps:"pps",ppt:"ppt",ppz:"ppz",pot:"pot",ps:"ps",qt:"qt",qd3d:"qd3d",qd3:"qd3",qxd:"qxd",rar:"rar",ra:"ra",ram:"ram",rm:"rm",rtf:"rtf",spr:"spr",sprite:"sprite",stream:"stream",swf:"swf",svg:"svg",sgml:"sgml",sgm:"sgm",tar:"tar",tiff:"tiff",tif:"tif",tgz:"tgz",tex:"tex",txt:"txt",vob:"vob",wav:"wav",wrl:"wrl",xla:"xla",xls:"xls",xlc:"xlc",xml:"xml",zip:"zip",json:"json",webp:"webp"},[s,m]=A.useState({storageType:r.storage_type||"local",allowedFileTypes:r.storage_file_types||"jpg,png,webp,gif",maxUploadSize:r.storage_max_upload_size||"2048",awsAccessKeyId:r.aws_access_key_id||"",awsSecretAccessKey:r.aws_secret_access_key||"",awsDefaultRegion:r.aws_default_region||"us-east-1",awsBucket:r.aws_bucket||"",awsUrl:r.aws_url||"",awsEndpoint:r.aws_endpoint||"",wasabiAccessKey:r.wasabi_access_key||"",wasabiSecretKey:r.wasabi_secret_key||"",wasabiRegion:r.wasabi_region||"us-east-1",wasabiBucket:r.wasabi_bucket||"",wasabiUrl:r.wasabi_url||"",wasabiRoot:r.wasabi_root||""}),t=(a,i)=>{m(d=>({...d,[a]:i}))},y=(a,i)=>{const d=s.allowedFileTypes.split(",").filter(p=>p.trim());let n;i?n=[...d,a]:n=d.filter(p=>p!==a),m(p=>({...p,allowedFileTypes:n.join(",")}))},v=a=>{a.preventDefault();const i={storage_type:s.storageType,allowedFileTypes:s.allowedFileTypes,maxUploadSize:s.maxUploadSize};s.storageType==="aws_s3"&&(i.awsAccessKeyId=s.awsAccessKeyId,i.awsSecretAccessKey=s.awsSecretAccessKey,i.awsDefaultRegion=s.awsDefaultRegion,i.awsBucket=s.awsBucket,i.awsUrl=s.awsUrl,i.awsEndpoint=s.awsEndpoint),s.storageType==="wasabi"&&(i.wasabiAccessKey=s.wasabiAccessKey,i.wasabiSecretKey=s.wasabiSecretKey,i.wasabiRegion=s.wasabiRegion,i.wasabiBucket=s.wasabiBucket,i.wasabiUrl=s.wasabiUrl,i.wasabiRoot=s.wasabiRoot),R.post(route("settings.storage.update"),i,{preserveScroll:!0,onSuccess:d=>{var u,b;const n=(u=d.props.flash)==null?void 0:u.success,p=(b=d.props.flash)==null?void 0:b.error;n?g.success(n):p&&g.error(p)},onError:d=>{const n=d.error||Object.values(d).join(", ")||l("Failed to update storage settings");g.error(n)}})},h=()=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:l("Allowed File Types")}),e.jsx("div",{className:"grid grid-cols-4 gap-2 p-4 border rounded-md max-h-48 overflow-y-auto",children:Object.keys(j).map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:a,checked:s.allowedFileTypes.split(",").includes(a),onCheckedChange:i=>y(a,i)}),e.jsx(c,{htmlFor:a,className:"text-sm font-normal",children:a})]},a))})]}),f=()=>e.jsxs("div",{className:"space-y-6",children:[h(),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"maxUploadSize",children:l("Max Upload Size (KB)")}),e.jsx(o,{id:"maxUploadSize",type:"number",value:s.maxUploadSize,onChange:a=>t("maxUploadSize",a.target.value),placeholder:"2048"})]})]}),S=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"awsAccessKeyId",children:l("AWS Access Key ID")}),e.jsx(o,{id:"awsAccessKeyId",value:s.awsAccessKeyId,onChange:a=>t("awsAccessKeyId",a.target.value),placeholder:"AKIAIOSFODNN7EXAMPLE"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"awsSecretAccessKey",children:l("AWS Secret Access Key")}),e.jsx(o,{id:"awsSecretAccessKey",type:"password",value:s.awsSecretAccessKey,onChange:a=>t("awsSecretAccessKey",a.target.value),placeholder:"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"awsDefaultRegion",children:l("AWS Default Region")}),e.jsx(o,{id:"awsDefaultRegion",value:s.awsDefaultRegion,onChange:a=>t("awsDefaultRegion",a.target.value),placeholder:"us-east-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"awsBucket",children:l("AWS Bucket")}),e.jsx(o,{id:"awsBucket",value:s.awsBucket,onChange:a=>t("awsBucket",a.target.value),placeholder:"my-bucket-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"awsUrl",children:l("AWS URL")}),e.jsx(o,{id:"awsUrl",value:s.awsUrl,onChange:a=>t("awsUrl",a.target.value),placeholder:"https://s3.amazonaws.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"awsEndpoint",children:l("AWS Endpoint")}),e.jsx(o,{id:"awsEndpoint",value:s.awsEndpoint,onChange:a=>t("awsEndpoint",a.target.value),placeholder:"https://s3.us-east-1.amazonaws.com"})]})]}),e.jsxs("div",{className:"space-y-6",children:[h(),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"awsMaxUploadSize",children:l("Max Upload Size (KB)")}),e.jsx(o,{id:"awsMaxUploadSize",type:"number",value:s.maxUploadSize,onChange:a=>t("maxUploadSize",a.target.value),placeholder:"2048"})]})})]})]}),N=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"wasabiAccessKey",children:l("Wasabi Access Key")}),e.jsx(o,{id:"wasabiAccessKey",value:s.wasabiAccessKey,onChange:a=>t("wasabiAccessKey",a.target.value),placeholder:"AKIAIOSFODNN7EXAMPLE"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"wasabiSecretKey",children:l("Wasabi Secret Key")}),e.jsx(o,{id:"wasabiSecretKey",type:"password",value:s.wasabiSecretKey,onChange:a=>t("wasabiSecretKey",a.target.value),placeholder:"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"wasabiRegion",children:l("Wasabi Region")}),e.jsx(o,{id:"wasabiRegion",value:s.wasabiRegion,onChange:a=>t("wasabiRegion",a.target.value),placeholder:"us-east-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"wasabiBucket",children:l("Wasabi Bucket")}),e.jsx(o,{id:"wasabiBucket",value:s.wasabiBucket,onChange:a=>t("wasabiBucket",a.target.value),placeholder:"my-wasabi-bucket"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"wasabiUrl",children:l("Wasabi URL")}),e.jsx(o,{id:"wasabiUrl",value:s.wasabiUrl,onChange:a=>t("wasabiUrl",a.target.value),placeholder:"https://s3.wasabisys.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"wasabiRoot",children:l("Wasabi Root")}),e.jsx(o,{id:"wasabiRoot",value:s.wasabiRoot,onChange:a=>t("wasabiRoot",a.target.value),placeholder:"/"})]})]}),e.jsxs("div",{className:"space-y-6",children:[h(),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"wasabiMaxUploadSize",children:l("Max Upload Size (KB)")}),e.jsx(o,{id:"wasabiMaxUploadSize",type:"number",value:s.maxUploadSize,onChange:a=>t("maxUploadSize",a.target.value),placeholder:"2048"})]})]})]});return e.jsx(U,{title:l("Storage Settings"),description:l("Configure file storage settings for your application"),action:e.jsxs(F,{type:"submit",form:"storage-settings-form",size:"sm",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),l("Save Changes")]}),children:e.jsx("form",{id:"storage-settings-form",onSubmit:v,children:e.jsxs(_,{value:s.storageType,className:"w-full",onValueChange:a=>m(i=>({...i,storageType:a})),children:[e.jsxs(k,{className:"grid w-full grid-cols-3",children:[e.jsxs(w,{value:"local",className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),l("Local Storage")]}),e.jsxs(w,{value:"aws_s3",className:"flex items-center gap-2",children:[e.jsx("span",{children:"‚òÅÔ∏è"}),l("AWS S3")]}),e.jsxs(w,{value:"wasabi",className:"flex items-center gap-2",children:[e.jsx("span",{children:"üóÑÔ∏è"}),l("Wasabi")]})]}),e.jsxs(x,{value:"local",className:"mt-6",children:[e.jsx("h3",{className:"text-base font-medium mb-4",children:l("Local Storage Settings")}),f()]}),e.jsxs(x,{value:"aws_s3",className:"mt-6",children:[e.jsx("h3",{className:"text-base font-medium mb-4",children:l("AWS S3 Storage Settings")}),S()]}),e.jsxs(x,{value:"wasabi",className:"mt-6",children:[e.jsx("h3",{className:"text-base font-medium mb-4",children:l("Wasabi Storage Settings")}),N()]})]})})})}export{X as default};
